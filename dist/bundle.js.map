{"version":3,"sources":["webpack:///webpack/bootstrap 43aef37d3ff7f1d036d4","webpack:///./src/SearchControl.js","webpack:///./src/SearchControl.css","webpack:///./src/ResultView.js","webpack:///./src/GmxRenderer.js","webpack:///./external/gmxDrawing/dist/gmxDrawing-min.js","webpack:///./external/gmxDrawing/dist/css/gmxDrawing.css","webpack:///./src/OsmDataProvider.js"],"names":["SearchControl","L","Control","extend","includes","Mixin","Events","initialize","options","setOptions","_handleChange","e","_input","value","Promise","all","providers","map","p","find","then","entries","values","filter","x","provider","showSuggestion","results","show","_handleMouseMove","stopPropagation","_selectItem","renderOptions","editable","pointStyle","size","weight","opacity","color","lineStyle","fill","detail","fetch","properties","response","items","length","_renderer","render","onAdd","_container","DomUtil","create","innerHTML","querySelector","DomEvent","on","bind","input","document","addEventListener","renderer","window","nsGmx","ResultView","index","count","_item","_list","setAttribute","style","top","offsetTop","offsetHeight","left","offsetLeft","handleKey","handleWheel","parentElement","appendChild","key","preventDefault","item","focus","complete","i","_items","text","ObjName","setSelectionRange","hide","event","CustomEvent","bubbles","cancelable","dispatchEvent","reduce","a","z","concat","html","ObjNameShort","join","querySelectorAll","selectItem","display","GmxRenderer","_map","_gmxDrawing","GmxDrawing","feature","layer","GeoJSON","geometryToLayer","geometry","add","addTo","bounds","getBounds","fitBounds","invalidateSize","t","Class","type","current","gmxUtil","prettifyDistance","createElementNS","Path","SVG_NS","addClass","setAttributeNS","n","o","testProp","hideTooltip","showTooltip","s","l","y","textContent","getAttributeNS","_pathRoot","getComputedTextLength","_drawMode","mode","bringToFront","addGeoJSON","geoJson","getLayers","setStyle","_originalStyle","push","r","layerGroup","eachLayer","Feature","Rectangle","Polygon","MultiPolygon","Polyline","MultiPolyline","Marker","draggable","_chkDrawOptions","markerStyle","iconStyle","pointToLayer","icon","addLayer","_addItem","setEditMode","_disableDrag","dragging","disable","disableTextSelection","disableImageDrag","doubleClickZoom","removeHooks","_enableDrag","enable","enableTextSelection","enableImageDrag","addHooks","_clearCreate","_createKey","Browser","mobile","off","fn","eventName","utils","defaultStyles","holeStyle","iconUrl","iconAnchor","iconSize","popupAnchor","shadowSize","_initPathRoot","_createType","latlng","h","originalEvent","ctrlKey","shiftKey","altKey","marker","rectangle","latLngBounds","latLng","lat","lng","_startTouchMove","_pointDown","rings","ring","_drawstop","polygon","setAddMode","polyline","_mapPane","fire","extendDefaultStyles","getFeatures","loadState","featureCollection","onEachFeature","popupOpened","getLatLng","openPopup","saveState","featureGroup","toGeoJSON","getNotDefaults","hasLayer","getPopup","_obj","Object","keys","features","version","object","_removeItem","splice","clear","removeLayer","remove","Map","addInitHook","gmxDrawing","ContextMenu","PointMarkers","include","LayerGroup","simplify","setLatLngs","points","getPathLatLngs","holes","invoke","bringToBack","prototype","call","_parent","setTimeout","_fireEvent","onRemove","hole","removeClass","getStyle","_drawOptions","_setStyleOptions","enableEdit","disableEdit","redraw","_setLinesStyle","_setPointsStyle","getOptions","_latLngsToCoords","latLngsToCoords","_latlngsAddShift","getShiftLatlng","getPixelOffset","shiftPixel","tileSizes","_zoom","Point","Math","floor","_dx","_dy","setOffsetToGeometry","getLatLngs","setPositionOffset","_getCoords","_toGeoJSON","_getLastObject","getFeature","coordinates","getType","hideFill","_fill","showFill","clearLayers","fillColor","LatLngBounds","_getBounds","_layers","_initialize","removeEditMode","getArea","geoJSONGetArea","getLength","geoJSONGetLength","getSummary","distanceUnit","prettifyArea","squareUnit","formatCoordinates","Ring","_latlngs","_holes","_showTooltip","g","gmxLocale","getText","d","buttons","button","downObject","layerPoint","getDownType","c","num","u","_setMarker","bindPopup","maxWidth","closeOnClick","maxPopupCount","popup","_contentNode","title","width","split","cols","forEach","rows","update","_popup","setLatLng","_latlng","delta","_isOpen","className","shape","fillOpacity","_activeZIndex","activeZIndex","_notActiveZIndex","notActiveZIndex","_coords","_legLength","lines","lineType","indexOf","noClip","clickable","addLatLng","_pointUp","removeAddMode","distVincenty","_setPoint","equals","setPosition","ie","gtIE11","_draggable","_onUp","_onDragStart","which","_lastDownTime","Date","now","down","disableAddPoints","_pointMove","_clearLineAddPoint","_moved","target","_leaflet_pos","test","getMarkerByPos","_skipClick","_lastPointClickTime","_removePoint","_lineAddPointID","clearTimeout","_pointDblClick","_lastAddTime","_pointClick","end","reverse","_onDragEnd","_onDrag","_dragstartPoint","touches","_editHandlers","touchstart","touchstartFill","_EditOpacity","_createHandlers","_mouseDown","_mouseUp","_moseMove","_lastMouseDownTime","smoothFactor","_parts","abs","_getPathPartStr","VML","_round","f","_onMouseClick","_fireMouseEvent","_isPathChange","projectLatlngs","getPathString","_pathStr","_updatePath","_clipPoints","_path","getAttribute","dashArray","lineCap","lineJoin","stroke","alt","keyboard","zIndexOffset","riseOffset","riseOnHover","latLngToLayerPoint","_add","layerPointToLatLng","mouseEventToContainerPoint","containerPointToLayerPoint","_originalPoints","Bounds","point","_","m","contains","LineUtil","pointToSegmentDistance","shift","_icon","OsmDataProvider","serverBase","limit","_serverBase","_limit","_convertGeometry","_key","KOSMOSNIMKI_SESSION_KEY","toUpperCase","obj","query","ObjCode","TypeCode","req","Request","headers","Headers","append","init","method","cache","resolve","reject","json","JSON","parse","slice","Status","rs","Result","SearchResult","Geometry","props","k","request","encodeURIComponent"],"mappings":"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","file":"./dist/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 43aef37d3ff7f1d036d4","import './SearchControl.css';\r\nimport { ResultView } from './ResultView.js';\r\nimport { GmxRenderer } from './GmxRenderer.js';\r\nimport { OsmDataProvider } from './OsmDataProvider.js';\r\n\r\nlet SearchControl = L.Control.extend({\r\n    includes: [L.Mixin.Events],\r\n    initialize: function(options) {    \r\n        L.setOptions(this, options);        \r\n    },   \r\n    _handleChange: function(e){\r\n        if(this._input.value !== ''){\r\n            Promise\r\n            .all(this.options.providers.map(p => p.find(this._input.value)))\r\n            .then(values => {\r\n                const entries = values.filter(x => x.provider.showSuggestion);\r\n                this.results.show(entries);\r\n            });\r\n        }        \r\n    },\r\n    _handleMouseMove: function(e){\r\n        e.stopPropagation();\r\n    },\r\n    _selectItem: function(e){\r\n        const renderOptions = {\r\n            editable: false,\r\n            map: true,\r\n            pointStyle: {\r\n                size: 8,\r\n                weight: 1,\r\n                opacity: 1,\r\n                color: '#00008B'\r\n            },\r\n            lineStyle: {\r\n                fill: false,\r\n                weight: 2,\r\n                opacity: 1,\r\n                color: '#00008B'\r\n            }\r\n        };\r\n        e.detail.provider.fetch (e.detail.properties).then(response => {\r\n            if(response.items.length > 0){\r\n                this._renderer.render(response.items[0], renderOptions);\r\n            }\r\n        });        \r\n    },\r\n    onAdd: function(map) {\r\n        this._container = L.DomUtil.create('div', 'leaflet-ext-search');\r\n        this._container.innerHTML = '<input type=\"text\" value=\"\" />';\r\n        this._input = this._container.querySelector('input');\r\n\r\n        L.DomEvent.on(this._input, 'input', this._handleChange.bind(this));\r\n        L.DomEvent.on(this._input, 'mousemove', this._handleMouseMove.bind(this));        \r\n\r\n        this.results = new ResultView({input: this._input});\r\n        document.addEventListener('item:select', this._selectItem.bind(this));\r\n\r\n        this._renderer = this.options.renderer || new GmxRenderer(map);\r\n\r\n        return this._container;\r\n    }\r\n});\r\n\r\nwindow.nsGmx = window.nsGmx || {};\r\nwindow.nsGmx.SearchControl = SearchControl; \r\n\r\nexport { SearchControl };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/SearchControl.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/SearchControl.css\n// module id = 1\n// module chunks = 0","class ResultView {\r\n    constructor({input}){\r\n        this._input = input;\r\n        this.index = -1;\r\n        this.count = 0;\r\n        this._item = null;\r\n\r\n        this._list = L.DomUtil.create('div');\r\n        this._list.setAttribute('class', 'leaflet-ext-search-list noselect');        \r\n\r\n        this._list.style.top = `${this._input.offsetTop + this._input.offsetHeight + 2}px`;\r\n        this._list.style.left = `${this._input.offsetLeft}px`;\r\n        this._input.addEventListener('keydown', this.handleKey.bind(this));\r\n        this._list.addEventListener('keydown', this.handleKey.bind(this));\r\n        this._list.addEventListener('wheel', this.handleWheel.bind(this));\r\n        this._input.parentElement.appendChild(this._list);        \r\n    }\r\n\r\n    handleWheel (e) {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    handleKey(e){                         \r\n        if(e.key === 'ArrowDown'){\r\n            e.preventDefault();            \r\n            if (this.index < 0){\r\n                this.index = 0;\r\n            }\r\n            else if (0 <= this.index && this.index < this.count - 1){\r\n                ++this.index;\r\n            }   \r\n            else {\r\n                this.index = this.count - 1;\r\n            }            \r\n            let item = this._list.querySelector(`[tabindex=\"${this.index}\"]`);\r\n            item.focus();            \r\n        }\r\n        else if (e.key === 'ArrowUp'){\r\n            e.preventDefault();            \r\n            if(this.index > 0){\r\n                --this.index;                \r\n                let item = this._list.querySelector(`[tabindex=\"${this.index}\"]`);        \r\n                item.focus();                                              \r\n            }\r\n            else {\r\n                this.index = -1;                \r\n                this._input.focus();                \r\n            }            \r\n        }\r\n        else if (e.key === 'Enter'){\r\n            this.complete (this.index);            \r\n        }    \r\n    }\r\n\r\n    selectItem(i, e){\r\n        this._item = this._items[i];        \r\n        const text = this._item.properties.ObjName;\r\n        this._input.value = text;        \r\n        this._input.setSelectionRange(text.length, text.length);        \r\n    }\r\n\r\n    complete(i, e){\r\n        let item = i >= 0 ? this._items[i] : this._item ? this._item : null;\r\n        if(item) {\r\n            this._item = item;        \r\n            this.index = -1;            \r\n            const text = item.properties.ObjName;\r\n            this._input.value = text;\r\n            this._input.setSelectionRange(text.length, text.length);                          \r\n            this._input.focus();\r\n            this.hide();\r\n            let event = new CustomEvent('item:select', {detail: item, bubbles: true, cancelable: true});\r\n            document.dispatchEvent(event);            \r\n        }\r\n    }\r\n\r\n    show(entries) {\r\n        this._item = null;\r\n        this.index = -1;\r\n\r\n        this._items = entries.reduce((a,x) => {\r\n            const items = x.items.map(z => {\r\n                return {provider: x.provider, properties: z};\r\n            });\r\n            return a.concat(items);\r\n        }, []);   \r\n        const html = \r\n            '<ul>' + this._items         \r\n            .map((x,i) => {\r\n                return `<li tabindex=${i}>${x.properties.ObjNameShort}</li>`;                \r\n            }, []).join('') + '</ul>';                            \r\n\r\n        this._list.innerHTML = html;\r\n        let items = this._list.querySelectorAll('li');\r\n        for (let i = 0; i < items.length; ++i){\r\n            let item = items[i];\r\n            item.addEventListener('click', this.complete.bind(this, i));\r\n            item.addEventListener('focus', this.selectItem.bind(this, i));            \r\n        }\r\n        \r\n        this.count = items.length;\r\n        this._list.style.display = 'block';\r\n    }\r\n    hide() {        \r\n        this._list.style.display = 'none';                \r\n    }\r\n\r\n}\r\n\r\nexport { ResultView };\n\n\n// WEBPACK FOOTER //\n// ./src/ResultView.js","import '../external/gmxDrawing/dist/gmxDrawing-min.js';\r\nimport '../external/gmxDrawing/dist/css/gmxDrawing.css';\r\n\r\nclass GmxRenderer {\r\n    constructor(map){\r\n        this._map = map;\r\n        this._gmxDrawing = new L.GmxDrawing ();\r\n        this._gmxDrawing.initialize(map);        \r\n    }\r\n    render(feature, options){\r\n        let layer = L.GeoJSON.geometryToLayer(feature.geometry);        \r\n        this._gmxDrawing.add(layer, options).addTo(this._map);\r\n        let bounds = layer.getBounds();\r\n        this._map.fitBounds(bounds);\r\n        this._map.invalidateSize();\r\n    }\r\n}\r\n\r\nexport { GmxRenderer };\n\n\n// WEBPACK FOOTER //\n// ./src/GmxRenderer.js","!function(){var t=1e-7,e=\"1.0.0\";L.GmxDrawing=L.Class.extend({options:{type:\"\"},includes:L.Mixin.Events,initialize:function(t){if(this._map=t,this.items=[],this.current=null,L.gmxUtil&&L.gmxUtil.prettifyDistance){var e=document.createElementNS(L.Path.SVG_NS,\"g\");L.DomUtil.addClass(e,\"gmxTooltip\");var i=document.createElementNS(L.Path.SVG_NS,\"rect\");i.setAttributeNS(null,\"rx\",4),i.setAttributeNS(null,\"ry\",4),i.setAttributeNS(null,\"height\",16),L.DomUtil.addClass(i,\"gmxTooltipBG\");var n=document.createElementNS(L.Path.SVG_NS,\"text\"),o=L.DomUtil.testProp([\"userSelect\",\"WebkitUserSelect\",\"OUserSelect\",\"MozUserSelect\",\"msUserSelect\"]);n.style[o]=\"none\",e.appendChild(i),e.appendChild(n),this.hideTooltip=function(){e.setAttributeNS(null,\"visibility\",\"hidden\")},this.showTooltip=function(t,o){var s=t.x+11,l=t.y-14;n.setAttributeNS(null,\"x\",s),n.setAttributeNS(null,\"y\",l),n.textContent=o,\"visible\"!==e.getAttributeNS(null,\"visibility\")&&(this._map._pathRoot.appendChild(e),e.setAttributeNS(null,\"visibility\",\"visible\"));var a=n.getComputedTextLength();i.setAttributeNS(null,\"width\",a+8),i.setAttributeNS(null,\"x\",s-4),i.setAttributeNS(null,\"y\",l-12)}}var s=function(t){this._drawMode=t.mode};this.on(\"drawstop drawstart\",s)},bringToFront:function(){for(var t=0,e=this.items.length;e>t;t++){var i=this.items[t];i._map&&\"bringToFront\"in i&&i.bringToFront()}},addGeoJSON:function(t,e){var i=[],n=t instanceof L.GeoJSON;if(n||(t=L.geoJson(t,e)),t instanceof L.GeoJSON){var o=t.getLayers();if(o)for(var s=function(t){var n=null;if(t.setStyle&&e&&e.lineStyle){n={};for(var o in e.lineStyle)n[o]=e.lineStyle[o];t.setStyle(e.lineStyle)}var s=this.add(t,e);s._originalStyle=n,i.push(s)},l=0,a=o.length;a>l;l++){var r=o[l];\"GeometryCollection\"!==r.feature.geometry.type&&(r=L.layerGroup([r])),r.eachLayer(s,this)}}return i},add:function(t,e){var i=null;if(t){if(t instanceof L.GmxDrawing.Feature)i=t;else{var n={};if(e&&\"editable\"in e||(n.editable=!0),t.geometry?n.type=t.geometry.type:t instanceof L.Rectangle?n.type=\"Rectangle\":t instanceof L.Polygon?n.type=\"Polygon\":t instanceof L.MultiPolygon?n.type=\"MultiPolygon\":t instanceof L.Polyline?n.type=\"Polyline\":t instanceof L.MultiPolyline?n.type=\"MultiPolyline\":t instanceof L.Marker&&(n.type=\"Point\",n.editable=!1,t.options.draggable=!0),e=this._chkDrawOptions(n.type,e),L.extend(e,n),t.geometry){var o=e.markerStyle&&e.markerStyle.iconStyle;return\"Point\"===e.type&&!e.pointToLayer&&o&&(e.icon=L.icon(o),e.pointToLayer=function(t,i){return new L.Marker(i,e)}),this.addGeoJSON(t,e)}i=new L.GmxDrawing.Feature(this,t,e)}\"map\"in e||(e.map=!0),e.map&&!i._map?this._map.addLayer(i):this._addItem(i),\"setEditMode\"in i&&i.setEditMode()}return i},_disableDrag:function(){this._map.dragging.disable(),L.DomUtil.disableTextSelection(),L.DomUtil.disableImageDrag(),this._map.doubleClickZoom.removeHooks()},_enableDrag:function(){this._map.dragging.enable(),L.DomUtil.enableTextSelection(),L.DomUtil.enableImageDrag(),this._map.doubleClickZoom.addHooks()},_clearCreate:function(){this._createKey&&(\"Rectangle\"===this._createKey.type&&L.Browser.mobile?L.DomEvent.off(this._map._container,\"touchstart\",this._createKey.fn,this):this._map.off(this._createKey.eventName,this._createKey.fn,this),this._enableDrag()),this._createKey=null},_chkDrawOptions:function(t,e){var i=L.GmxDrawing.utils.defaultStyles,n={};if(e||(e=L.extend({},i)),\"Point\"===t?L.extend(n,i.markerStyle.options.icon,e):(L.extend(n,e),n.lineStyle=L.extend({},i.lineStyle,e.lineStyle),n.pointStyle=L.extend({},i.pointStyle,e.pointStyle),n.holeStyle=L.extend({},i.holeStyle,e.holeStyle)),n.iconUrl){var o={iconUrl:n.iconUrl};delete n.iconUrl,n.iconAnchor&&(o.iconAnchor=n.iconAnchor,delete n.iconAnchor),n.iconSize&&(o.iconSize=n.iconSize,delete n.iconSize),n.popupAnchor&&(o.popupAnchor=n.popupAnchor,delete n.popupAnchor),n.shadowSize&&(o.shadowSize=n.shadowSize,delete n.shadowSize),n.markerStyle={iconStyle:o}}return n},create:function(e,i){if(this._clearCreate(null),e){var n=this._map,o=this._chkDrawOptions(e,i),s=this;\"Rectangle\"===e&&(n._initPathRoot(),n.dragging.disable()),this._createKey={type:e,eventName:\"Rectangle\"===e?L.Browser.mobile?\"touchstart\":\"mousedown\":\"click\",fn:function(i){s._createType=\"\";var n,l,a={},r=i.latlng;for(l in o)l in L.GmxDrawing.utils.defaultStyles||(a[l]=o[l]);if(\"Point\"===e){var h=o.markerStyle||{},p={draggable:!0};i&&i.originalEvent&&(p.ctrlKey=i.originalEvent.ctrlKey,p.shiftKey=i.originalEvent.shiftKey,p.altKey=i.originalEvent.altKey),h.iconStyle&&(p.icon=L.icon(h.iconStyle)),n=s.add(L.marker(r,p),a)}else o.pointStyle&&(a.pointStyle=o.pointStyle),o.lineStyle&&(a.lineStyle=o.lineStyle),\"Rectangle\"===e?(a.mode=\"edit\",n=s.add(L.rectangle(L.latLngBounds(L.latLng(r.lat+t,r.lng-t),r)),a),L.Browser.mobile?n._startTouchMove(i,!0):n._pointDown(i),n.rings[0].ring._drawstop=!0):\"Polygon\"===e?(a.mode=\"add\",n=s.add(L.polygon([r]),a),n.setAddMode()):\"Polyline\"===e&&(a.mode=\"add\",n=s.add(L.polyline([r]),a).setAddMode());s._clearCreate()}},\"Rectangle\"===e&&L.Browser.mobile?L.DomEvent.on(n._container,\"touchstart\",this._createKey.fn,this):n.on(this._createKey.eventName,this._createKey.fn,this),this._createType=e,L.DomUtil.addClass(n._mapPane,\"leaflet-clickable\"),this.fire(\"drawstart\",{mode:e})}this.options.type=e},extendDefaultStyles:function(t){var e=L.GmxDrawing.utils.defaultStyles;if(t=t||{},t.iconUrl){var i=e.markerStyle.options.icon;i.iconUrl=t.iconUrl,delete t.iconUrl,t.iconAnchor&&(i.iconAnchor=t.iconAnchor,delete t.iconAnchor),t.iconSize&&(i.iconSize=t.iconSize,delete t.iconSize),t.popupAnchor&&(i.popupAnchor=t.popupAnchor,delete t.popupAnchor),t.shadowSize&&(i.shadowSize=t.shadowSize,delete t.shadowSize)}return t.lineStyle&&(L.extend(e.lineStyle,t.lineStyle),delete t.lineStyle),t.pointStyle&&(L.extend(e.pointStyle,t.pointStyle),delete t.pointStyle),t.holeStyle&&(L.extend(e.holeStyle,t.holeStyle),delete t.holeStyle),L.extend(e,t),this},getFeatures:function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e]);return t},loadState:function(t){var e=this,i=t.featureCollection;L.geoJson(i,{onEachFeature:function(t,i){var n=t.properties,o=n.popupOpened;if(\"Rectangle\"===n.type)i=L.rectangle(i.getBounds());else if(\"Point\"===n.type){n=n.options;var s=n.icon;s&&(delete n.icon,s.iconUrl&&(n.icon=L.icon(s))),i=L.marker(i.getLatLng(),n)}i.setStyle&&n&&n.lineStyle&&i.setStyle(n.lineStyle),e.add(i,n),o&&i.openPopup()}})},saveState:function(){for(var t=L.featureGroup(),i=[],n=0,o=this.items.length;o>n;n++){var s=this.items[n];if(\"Point\"===s.options.type){var l=s.toGeoJSON();l.properties=L.GmxDrawing.utils.getNotDefaults(s.options,L.GmxDrawing.utils.defaultStyles.markerStyle),s._map?s._map.hasLayer(s.getPopup())&&(l.properties.popupOpened=!0):l.properties.map=!1;var a=L.GmxDrawing.utils.getNotDefaults(s._obj.options,L.GmxDrawing.utils.defaultStyles.markerStyle.options);Object.keys(a).length&&(l.properties.options=a),a=L.GmxDrawing.utils.getNotDefaults(s._obj.options.icon.options,L.GmxDrawing.utils.defaultStyles.markerStyle.options.icon),Object.keys(a).length&&(l.properties.options||(l.properties.options={}),l.properties.options.icon=a),i.push(l)}else t.addLayer(s)}var r=t.toGeoJSON();return r.features=r.features.concat(i),{version:e,featureCollection:r}},_addItem:function(t){for(var e=!0,i=0,n=this.items.length;n>i;i++){var o=this.items[i];if(o===t){e=!1;break}}e&&this.items.push(t),this.fire(\"add\",{mode:t.mode,object:t})},_removeItem:function(t,e){for(var i=0,n=this.items.length;n>i;i++){var o=this.items[i];if(o===t){if(e){this.items.splice(i,1);var s={type:o.options.type,mode:o.mode,object:o};this.fire(\"remove\",s),o.fire(\"remove\",s)}return o}}return null},clear:function(){for(var t=0,e=this.items.length;e>t;t++){var i=this.items[t];i&&i._map&&i._map.removeLayer(i);var n={type:i.options.type,mode:i.mode,object:i};this.fire(\"remove\",n),i.fire(\"remove\",n)}return this.items=[],this},remove:function(t){var e=this._removeItem(t,!0);return e&&e._map&&e._map.removeLayer(e),e}}),L.Map.addInitHook(function(){this.gmxDrawing=new L.GmxDrawing(this),L.Mixin.ContextMenu&&L.GmxDrawing.PointMarkers.include(L.Mixin.ContextMenu)})}(),L.GmxDrawing.Feature=L.LayerGroup.extend({options:{mode:\"\"},includes:L.Mixin.Events,simplify:function(){var t,e,i,n,o;for(t=0,i=this.rings.length;i>t;t++){var s=this.rings[t],l=s.ring;for(l.setLatLngs(l.points.getPathLatLngs()),e=0,n=s.holes.length;n>e;e++)o=s.holes[e],o.setLatLngs(o.points.getPathLatLngs())}return this},bringToFront:function(){return this.invoke(\"bringToFront\")},bringToBack:function(){return this.invoke(\"bringToBack\")},onAdd:function(t){if(L.LayerGroup.prototype.onAdd.call(this,t),this._parent._addItem(this),\"Point\"===this.options.type){t.addLayer(this._obj);var e=this;setTimeout(function(){e._fireEvent(\"drawstop\",e._obj.options)},0)}this._fireEvent(\"addtomap\")},onRemove:function(t){\"hideTooltip\"in this&&this.hideTooltip(),L.LayerGroup.prototype.onRemove.call(this,t),\"Point\"===this.options.type&&t.removeLayer(this._obj),this._fireEvent(\"removefrommap\")},remove:function(t){if(t){var e,i,n,o,s;for(e=0,n=this.rings.length;n>e;e++)if(t.options.hole){for(i=0,o=this.rings[e].holes.length;o>i;i++)if(s=this.rings[e].holes[i],t===s){this.rings[e].holes.splice(i,1),s._map&&s._map.removeLayer(s);break}if(!t._map)break}else if(t===this.rings[e].ring){for(i=0,o=this.rings[e].holes.length;o>i;i++)s=this.rings[e].holes[i],s._map&&s._map.removeLayer(s);this.rings.splice(e,1),t._map&&t._map.removeLayer(t);break}}else this.rings=[];return this.rings.length<1&&(this._originalStyle&&this._obj.setStyle(this._originalStyle),this._parent.remove(this)),this},_fireEvent:function(t){if(!(\"removefrommap\"===t&&this.rings.length>1)){var e={mode:this.mode||\"\",object:this};this.fire(t,e),this._parent.fire(t,e),\"drawstop\"===t&&this._map&&L.DomUtil.removeClass(this._map._mapPane,\"leaflet-clickable\")}},getStyle:function(){var t=L.extend({},this._drawOptions);return delete t.holeStyle,\"Point\"===t.type&&(L.extend(t,t.markerStyle.iconStyle),delete t.markerStyle),t},setOptions:function(t){return t.lineStyle&&this._setStyleOptions(t.lineStyle,\"lines\"),t.pointStyle&&this._setStyleOptions(t.pointStyle,\"points\"),\"editable\"in t&&(t.editable?this.enableEdit():this.disableEdit()),L.setOptions(this,t),this._fireEvent(\"optionschange\"),this},_setStyleOptions:function(t,e){for(var i=0,n=this.rings.length;n>i;i++){var o=this.rings[i].ring[e];o.setStyle(t),o.redraw();for(var s=0,l=this.rings[i].holes.length;l>s;s++)o=this.rings[i].holes[s][e],o.setStyle(t),o.redraw()}this._fireEvent(\"stylechange\")},_setLinesStyle:function(t){this._setStyleOptions(t,\"lines\")},_setPointsStyle:function(t){this._setStyleOptions(t,\"points\")},getOptions:function(){var t=this.options,e=L.extend({},t);e.lineStyle=t.lineStyle,e.pointStyle=t.pointStyle;var i=L.GmxDrawing.utils.getNotDefaults(e,L.GmxDrawing.utils.defaultStyles);if(Object.keys(i.lineStyle).length||delete i.lineStyle,Object.keys(i.pointStyle).length||delete i.pointStyle,this._map||(i.map=!1),\"Point\"===t.type){var n=L.GmxDrawing.utils.getNotDefaults(this._obj.options,L.GmxDrawing.utils.defaultStyles.markerStyle.options);Object.keys(n).length&&(i.options=n),n=L.GmxDrawing.utils.getNotDefaults(this._obj.options.icon.options,L.GmxDrawing.utils.defaultStyles.markerStyle.options.icon),Object.keys(n).length&&(i.options.icon=n)}return i},_latLngsToCoords:function(t,e){var i=L.GeoJSON.latLngsToCoords(t);if(e){var n=i[i.length-1];(n[0]!==i[0][0]||n[1]!==i[0][1])&&i.push(i[0])}return i},_latlngsAddShift:function(t,e){for(var i=[],n=0,o=t.length;o>n;n++)i.push(L.GmxDrawing.utils.getShiftLatlng(t[n],this._map,e));return i},getPixelOffset:function(){var t=this.shiftPixel;if(!t&&this._map){var e=256/L.gmxUtil.tileSizes[this._map._zoom];t=this.shiftPixel=new L.Point(Math.floor(e*this._dx),-Math.floor(e*this._dy))}return t||new L.Point(0,0)},setOffsetToGeometry:function(t,e){var i,n,o,s,l,a,r=256/L.gmxUtil.tileSizes[this._map._zoom],h=new L.Point(r*(this._dx||t||0),-r*(this._dy||e||0));for(i=0,n=this.rings.length;n>i;i++){var p=this.rings[i];if(l=p.ring,a=l.points.getLatLngs(),l.setLatLngs(this._latlngsAddShift(a,h)),p.holes&&p.holes.length)for(o=0,s=p.holes.length;s>o;o++)l=p.holes[o].ring,a=l.points.getLatLngs(),l.setLatLngs(this._latlngsAddShift(a,h))}return this.setPositionOffset(),this},setPositionOffset:function(t,e){if(this._dx=t||0,this._dy=e||0,this._map){this.shiftPixel=null;for(var i=this.getPixelOffset(),n=0,o=this.rings.length;o>n;n++){this.rings[n].ring.setPositionOffset(i);for(var s=0,l=this.rings[n].holes.length;l>s;s++)this.rings[n].holes[s].setPositionOffset(i)}}},_getCoords:function(t){for(var e=this.options.type,i=\"Polygon\"===e||\"Rectangle\"===e||\"MultiPolygon\"===e,n=t?null:this.shiftPixel,o=[],s=0,l=this.rings.length;l>s;s++){var a=this.rings[s],r=this._latLngsToCoords(a.ring.points.getLatLngs(),i,n);if(i&&(r=[r]),a.holes&&a.holes.length)for(var h=0,p=a.holes.length;p>h;h++)r.push(this._latLngsToCoords(a.holes[h].points.getLatLngs(),i,n));o.push(r)}return(\"Polyline\"===e||i&&\"MultiPolygon\"!==e)&&(o=o[0]),o},toGeoJSON:function(){return this._toGeoJSON(!0)},_toGeoJSON:function(t){var e,i=this.options.type,n=this.getOptions();if(delete n.mode,!this.options.editable||\"Point\"===i){var o=this._obj;o instanceof L.GeoJSON&&(o=L.GmxDrawing.utils._getLastObject(o).getLayers()[0]);var s=o.toGeoJSON();return s.properties=n,s}return this.rings&&(e=this._getCoords(t),\"Rectangle\"===i?i=\"Polygon\":\"Polyline\"===i?i=\"LineString\":\"MultiPolyline\"===i&&(i=\"MultiLineString\")),L.GeoJSON.getFeature({feature:{type:\"Feature\",properties:n}},{type:i,coordinates:e})},getType:function(){return this.options.type},hideFill:function(){this._fill._map&&this._map.removeLayer(this._fill)},showFill:function(){var t=this.toGeoJSON(),e=L.GeoJSON.geometryToLayer(t,null,null,{weight:0});return this._fill.clearLayers(),e instanceof L.LayerGroup?e.eachLayer(function(t){this._fill.addLayer(t)},this):(e.setStyle({weight:0,fill:!0,fillColor:\"#0033ff\"}),this._fill.addLayer(e)),this._fill._map||(this._map.addLayer(this._fill),this._fill.bringToBack()),this},getBounds:function(){var t=new L.LatLngBounds;if(\"Point\"===this.options.type){var e=this._obj.getLatLng();t.extend(e)}else t=this._getBounds();return t},_getBounds:function(t){var e,i=t||this,n=new L.LatLngBounds;return i instanceof L.LayerGroup?(i.eachLayer(function(t){e=this._getBounds(t),n.extend(e)},this),n):(e=i instanceof L.Marker?i.getLatLng():i.getBounds(),n.extend(e),n)},initialize:function(t,e,i){i=i||{},i.mode=\"\",this._drawOptions=L.extend({},i);var n=i.type;\"Point\"===n?(delete i.pointStyle,delete i.lineStyle):(delete i.iconUrl,delete i.iconAnchor,delete i.iconSize,delete i.popupAnchor,delete i.shadowSize,delete i.markerStyle),delete i.holeStyle,L.setOptions(this,i),this._layers={},this._obj=e,this._parent=t,this._dx=0,this._dy=0,this._initialize(t,e)},enableEdit:function(){this.options.mode=\"edit\";var t=this.options.type;if(\"Point\"!==t){for(var e=0,i=this.rings.length;i>e;e++){var n=this.rings[e];n.ring.options.editable=this.options.editable,n.ring.setEditMode();for(var o=0,s=n.holes.length;s>o;o++){var l=n.holes[o];l.options.editable=this.options.editable,l.setEditMode()}}var a=L.geoJson(this.toGeoJSON());this.options.editable=!0,this._initialize(this._parent,a)}return this},disableEdit:function(){var t=this.options.type;if(\"Point\"!==t){this._originalStyle=this.options.lineStyle;for(var e=L.geoJson(this.toGeoJSON().geometry,this._originalStyle).getLayers()[0],i=0,n=this.rings.length;n>i;i++){var o=this.rings[i];o.ring.removeEditMode(),o.ring.options.editable=!1;for(var s=0,l=o.holes.length;l>s;s++){var a=o.holes[s];a.removeEditMode(),a.options.editable=!1}}this._obj=e,this.options.editable=!1,this._initialize(this._parent,this._obj)}return this},getArea:function(){var t=0;return L.gmxUtil.geoJSONGetArea&&(t=L.gmxUtil.geoJSONGetArea(this.toGeoJSON())),t},getLength:function(){var t=0;return L.gmxUtil.geoJSONGetLength&&(t=L.gmxUtil.geoJSONGetLength(this.toGeoJSON())),t},getSummary:function(){var t=\"\",e=this._map.options||{},i=this.options.type;if(\"Polyline\"===i||\"MultiPolyline\"===i)t=L.gmxUtil.prettifyDistance(this.getLength(),e.distanceUnit);else if(\"Polygon\"===i||\"MultiPolygon\"===i||\"Rectangle\"===i)t=L.gmxUtil.prettifyArea(this.getArea(),e.squareUnit);else if(\"Point\"===i){var n=this._obj.getLatLng();t=L.gmxUtil.formatCoordinates(n)}return t},_initialize:function(t,e){if(this.clearLayers(),this.rings=[],this.mode=\"\",this._fill=L.featureGroup(),this.options.editable){for(var i=e.getLayers?L.GmxDrawing.utils._getLastObject(e).getLayers():[e],n=0,o=i.length;o>n;n++){var s=i[n],l=[],a=new L.GmxDrawing.Ring(this,s._latlngs,{ring:!0,editable:this.options.editable});if(this.addLayer(a),s._holes)for(var r=0,h=s._holes.length;h>r;r++){var p=new L.GmxDrawing.Ring(this,s._holes[r],{hole:!0,editable:this.options.editable});this.addLayer(p),l.push(p)}this.rings.push({ring:a,holes:l})}if(L.gmxUtil&&L.gmxUtil.prettifyDistance&&!this._showTooltip){var g=function(t){var e=L.gmxLocale?L.gmxLocale.getText(t):null;return e||t},d=this;this._showTooltip=function(t,e){var i=e.ring,n=e.originalEvent,o=n.buttons||n.button;if(i&&(i.downObject||!o)){var s=d._map.options||{},l=s.distanceUnit,a=s.squareUnit,r=\"\";if(\"Area\"===t){if(!L.gmxUtil.getArea)return;r=e.originalEvent.ctrlKey?g(\"Perimeter\")+\": \"+L.gmxUtil.prettifyDistance(d.getLength(),l):g(t)+\": \"+L.gmxUtil.prettifyArea(d.getArea(),a),d._parent.showTooltip(e.layerPoint,r)}else if(\"Length\"===t){var h=L.GmxDrawing.utils.getDownType.call(d,e,d._map,d),p=i.getLength(h),c=(\"edit\"===h.mode||h.num>1?h.type:\"\")+t,u=g(c);r=(u===c?g(t):u)+\": \"+L.gmxUtil.prettifyDistance(p,l),d._parent.showTooltip(e.layerPoint,r)}d._fireEvent(\"onMouseOver\")}},this.hideTooltip=function(){this._parent.hideTooltip(),this._fireEvent(\"onMouseOut\")}}}else\"Point\"===this.options.type?this._setMarker(e):this.addLayer(e)},_enableDrag:function(){this._parent._enableDrag()},_disableDrag:function(){this._parent._disableDrag()},_setMarker:function(t){var e=this,i=this._parent;t.bindPopup(null,{maxWidth:1e3,closeOnClick:i._map.options.maxPopupCount>1?!1:!0}).on(\"dblclick\",function(){this._map.removeLayer(this),e.remove()}).on(\"dragstart\",function(){e._fireEvent(\"dragstart\")}).on(\"drag\",function(){e._fireEvent(\"drag\"),e._fireEvent(\"edit\")}).on(\"dragend\",function(){e._fireEvent(\"dragend\")}).on(\"popupopen\",function(i){var n=i.popup;n._input||(n._input=L.DomUtil.create(\"textarea\",\"leaflet-gmx-popup-textarea\",n._contentNode),n._input.value=e.options.title||t.options.title||\"\",n._contentNode.style.width=\"auto\"),L.DomEvent.on(n._input,\"keyup\",function(){var i=this.value.split(\"\\n\"),o=this.cols||0;i.forEach(function(t){t.length>o&&(o=t.length)}),this.rows=i.length,o&&(this.cols=o),n.update(),e.options.title=t.options.title=this.value,this.focus()},n._input),n.update()}),i._map.addLayer(t),e.openPopup=t.openPopup=function(){if(t._popup&&t._map&&!t._map.hasLayer(t._popup)){t._popup.setLatLng(t._latlng);var e=t._map.gmxDrawing;e._drawMode?t._map.fire(e._createType?\"click\":\"mouseup\",{latlng:t._latlng,delta:1}):(t._popup.addTo(t._map),t._popup._isOpen=!0)}return t}},setAddMode:function(){return this.rings.length&&this.rings[0].ring.setAddMode(),this},_pointDown:function(t){this.rings.length&&this.rings[0].ring._pointDown(t)},getPopup:function(){return\"Point\"===this.options.type?this._obj.getPopup():void 0}}),L.GmxDrawing.Ring=L.LayerGroup.extend({options:{className:\"leaflet-drawing-ring\",opacity:1,shape:\"circle\",fill:!0,fillColor:\"#ffffff\",fillOpacity:1,size:L.Browser.mobile?40:8,weight:2},includes:L.Mixin.Events,initialize:function(t,e,i){i=i||{},i.mode=\"\",this._activeZIndex=i.activeZIndex||7,this._notActiveZIndex=i.notActiveZIndex||6,this.options=L.extend({},t.getStyle(),i),this._layers={},this._coords=e,this._legLength=[],this._parent=t,this._initialize(t,e)},_initialize:function(t,e){this.clearLayers(),delete this.lines,delete this.fill,delete this.points,this.downObject=!1,this.mode=\"\",this.lineType=-1!==this.options.type.indexOf(\"Polyline\");var i=this.options.pointStyle,n={opacity:1,weight:2,noClip:!0,clickable:!1,className:\"leaflet-drawing-lines\"};if(this.lineType||(n.fill=\"fill\"in this.options?this.options.fill:!0),this.options.lineStyle)for(var o in this.options.lineStyle)\"fill\"===o&&this.lineType||(n[o]=this.options.lineStyle[o]);this.options.hole&&(n=L.extend({},n,L.GmxDrawing.utils.defaultStyles.holeStyle),i=L.extend({},i,L.GmxDrawing.utils.defaultStyles.holeStyle));var s=e,l=this,a=this.options.mode||(s.length?\"edit\":\"add\");this.lines=new L.Polyline(s,n),this.addLayer(this.lines),this.fill=new L.Polyline(s,{className:\"leaflet-drawing-lines-fill\",opacity:0,fill:!1,size:10,weight:10}),this.addLayer(this.fill),this.lineType||\"edit\"!==a||(this.lines.addLatLng(s[0]),this.fill.addLatLng(s[0])),this.mode=a,this.points=new L.GmxDrawing.PointMarkers(s,i),this.points._parent=this,this.addLayer(this.points),this.points.on(\"mouseover mousemove\",function(t){t.ring=l,\"_showTooltip\"in this&&this._showTooltip(l.lineType?\"Length\":\"Area\",t)},t).on(\"mouseout\",function(){\"hideTooltip\"in this&&this.hideTooltip()},t),this.fill.on(\"mouseover mousemove\",function(t){t.ring=l,\"_showTooltip\"in this&&this._showTooltip(\"Length\",t)},t).on(\"mouseout\",function(){\"hideTooltip\"in this&&this.hideTooltip()},t)},onAdd:function(t){L.LayerGroup.prototype.onAdd.call(this,t),this.setEditMode()},onRemove:function(t){this.points&&(this._pointUp(),this.removeAddMode(),this.removeEditMode(),\"hideTooltip\"in this._parent&&this._parent.hideTooltip()),L.LayerGroup.prototype.onRemove.call(this,t),\"Point\"===this.options.type&&t.removeLayer(this._obj),this._fireEvent(\"removefrommap\")},getLength:function(t){var e=0,i=this.points._latlngs,n=i.length;if(n){var o=1,s=i[0];t&&(\"node\"===t.type?n=t.num+1:(o=t.num,o===n?(s=i[o-1],o=0):s=i[o-1],n=o+1));for(var l=o;n>l;l++){var a=this._legLength[l]||null;null===a&&(a=L.gmxUtil.distVincenty(s.lng,s.lat,i[l].lng,i[l].lat),this._legLength[l]=a),s=i[l],e+=a}}return e},_setPoint:function(t,e,i){if(this.points){var n=this.points._latlngs;\"Rectangle\"===this.options.type?(\"edge\"===i?(e--,0===e?n[0].lng=n[1].lng=t.lng:1===e?n[1].lat=n[2].lat=t.lat:2===e?n[2].lng=n[3].lng=t.lng:3===e&&(n[0].lat=n[3].lat=t.lat)):(n[e]=t,0===e?(n[3].lat=t.lat,n[1].lng=t.lng):1===e?(n[2].lat=t.lat,n[0].lng=t.lng):2===e?(n[1].lat=t.lat,n[3].lng=t.lng):3===e&&(n[0].lat=t.lat,n[2].lng=t.lng)),this._legLength=[]):(n[e]=t,this._legLength[e]=null,this._legLength[e+1]=null),this.setLatLngs(n)}},addLatLng:function(t,e){if(this._legLength=[],this.points){var i=this.points._latlngs,n=i.length,o=i[n-2];o&&o.equals(t)||(e&&(n-=e),this._setPoint(t,n,\"node\"))}else\"addLatLng\"in this._obj&&this._obj.addLatLng(t)},setPositionOffset:function(t){L.DomUtil.setPosition(this.points._container,t),L.DomUtil.setPosition(this.fill._container,t),L.DomUtil.setPosition(this.lines._container,t)},setLatLngs:function(t){if(this.points){var e=this.points;this.fill.setLatLngs(t),this.lines.setLatLngs(t),!this.lineType&&\"edit\"===this.mode&&t.length>2&&(this.lines.addLatLng(t[0]),this.fill.addLatLng(t[0])),e.setLatLngs(t)}else\"setLatLngs\"in this._obj&&this._obj.setLatLngs(t);this._fireEvent(\"edit\")},_pointDown:function(t){if((L.Browser.ie||L.gmxUtil&&L.gmxUtil.gtIE11)&&this._map.dragging._draggable._onUp(),this._parent._disableDrag(),t.originalEvent){var e=t.originalEvent;if(e.ctrlKey)return this._onDragStart(t),void 0;if(1!==e.which&&1!==e.button)return}var i=L.GmxDrawing.utils.getDownType.call(this,t,this._map,this._parent),n=i.type,o=this.options;if(this._lastDownTime=Date.now()+100,this.down=i,\"edge\"===n&&\"Rectangle\"!==o.type){if(o.disableAddPoints)return;this._legLength=[];var s=i.num,l=this.points._latlngs;l.splice(s,0,l[s]),this._setPoint(t.latlng,s,n)}this.downObject=!0,this._map.on(\"mousemove\",this._pointMove,this).on(\"mouseup\",this._pointUp,this)},_pointMove:function(t){this.down&&this._lastDownTime<Date.now()&&(this.lineType||this._parent.showFill(),this._clearLineAddPoint(),this._moved=!0,this._setPoint(t.latlng,this.down.num,this.down.type),\"_showTooltip\"in this._parent&&this._parent._showTooltip(this.lineType?\"Length\":\"Area\",t))},_pointUp:function(t){if(this.downObject=!1,this._parent._enableDrag(),this.points){if(this._map){this._map.off(\"mousemove\",this._pointMove,this).off(\"mouseup\",this._pointUp,this);var e=t&&t.originalEvent?t.originalEvent.target:null;if(e&&e._leaflet_pos&&/leaflet-marker-icon/.test(e.className)){var i=L.GmxDrawing.utils.getMarkerByPos(e._leaflet_pos,this._map.gmxDrawing.getFeatures());this._setPoint(i,this.down.num,this.down.type)}this._map._skipClick=!0}this._drawstop&&this._fireEvent(\"drawstop\"),this._drawstop=!1,this.down=null;var n=this.options.lineStyle||{};n.fill||this.lineType||this._parent.hideFill()}},_lastPointClickTime:0,_removePoint:function(t){var e=this.points._latlngs;e.length>t&&(this._legLength=[],e.splice(t,1),\"Rectangle\"===this.options.type||e.length<2||e.length<3&&!this.lineType?this._parent.remove(this):this._setPoint(e[0],0))},_clearLineAddPoint:function(){this._lineAddPointID&&clearTimeout(this._lineAddPointID),this._lineAddPointID=null},_pointDblClick:function(t){if(this._clearLineAddPoint(),!this._lastAddTime||Date.now()>this._lastAddTime){var e=L.GmxDrawing.utils.getDownType.call(this,t,this._map,this._parent);this._removePoint(e.num)}},_pointClick:function(t){if(!t.originalEvent||!t.originalEvent.ctrlKey){var e=Date.now(),i=this._lastPointClickTime;if(this._lastPointClickTime=e+300,this._moved||i>e)return this._moved=!1,void 0;var n=L.GmxDrawing.utils.getDownType.call(this,t,this._map,this._parent),o=this.mode;if(\"node\"===n.type){var s=n.num;if(n.end){if(\"add\"===o)this._pointUp(),this.setEditMode(),this.lineType&&0===s&&(this._parent.options.type=this.options.type=\"Polygon\",this.lineType=!1,this._removePoint(this.points._latlngs.length-1)),this._fireEvent(\"drawstop\"),this._removePoint(s);else if(this.lineType){var l=this,a=function(){l._clearLineAddPoint(),0===s&&l.points._latlngs.reverse(),l.points.addLatLng(n.latlng),l.setAddMode(),l._fireEvent(\"drawstop\")};this._lineAddPointID=setTimeout(a,250)}}else\"add\"===o&&this.addLatLng(t.latlng)}}},_onDragEnd:function(){this._map.off(\"mouseup\",this._onDragEnd,this).off(\"mousemove\",this._onDrag,this),this._parent._enableDrag(),this._fireEvent(\"dragend\")},_onDragStart:function(t){this._dragstartPoint=t.latlng,this._map.on(\"mouseup\",this._onDragEnd,this).on(\"mousemove\",this._onDrag,this),this._fireEvent(\"dragstart\")},_onDrag:function(t){var e=this._dragstartPoint.lat-t.latlng.lat,i=this._dragstartPoint.lng-t.latlng.lng,n=this.points._latlngs;n.forEach(function(t){t.lat-=e,t.lng-=i}),this._dragstartPoint=t.latlng,this._legLength=[],this.setLatLngs(n),this._fireEvent(\"drag\")},_fireEvent:function(t){this._parent._fireEvent(t)},_startTouchMove:function(t,e){var i=L.GmxDrawing.utils.getDownType.call(this,t,this._map,this._parent);if(\"node\"===i.type){this._parent._disableDrag(),this.down=i;var n=this,o=function(t){i=L.GmxDrawing.utils.getDownType.call(n,t,n._map,this._parent),1===t.touches.length&&n._pointMove(i)},s=function(){L.DomEvent.off(n._map._container,\"touchmove\",o,n).off(n._map._container,\"touchend\",s,n),n._parent._enableDrag(),e&&n._parent.fire(\"drawstop\",{mode:n.options.type,object:n})};L.DomEvent.on(n._map._container,\"touchmove\",o,n).on(n._map._container,\"touchend\",s,n)}},_editHandlers:function(t){var e=L.DomEvent.stopPropagation;if(this.touchstart&&L.DomEvent.off(this.points._container,\"touchstart\",this.touchstart,this),this.touchstartFill&&L.DomEvent.off(this.fill._container,\"touchstart\",this.touchstartFill,this),this.touchstart=null,this.touchstartFill=null,t)if(this.points.on(\"dblclick click\",e,this).on(\"dblclick\",this._pointDblClick,this).on(\"click\",this._pointClick,this),L.Browser.mobile){this._EditOpacity&&this._parent._setPointsStyle({fillOpacity:this._EditOpacity});var i=this;this.touchstart=function(t){i._startTouchMove(t)},L.DomEvent.on(this.points._container,\"touchstart\",this.touchstart,this),this.touchstartFill=function(t){var e=L.GmxDrawing.utils.getDownType.call(i,t,i._map,this._parent);if(\"edge\"===e.type&&\"Rectangle\"!==i.options.type){var n=i.points._latlngs;n.splice(e.num,0,n[e.num]),i._legLength=[],i._setPoint(e.latlng,e.num,e.type)}},L.DomEvent.on(this.fill._container,\"touchstart\",this.touchstartFill,this)}else this.points.on(\"mousemove\",e).on(\"mousedown\",this._pointDown,this),this.fill.on(\"dblclick click\",e,this).on(\"mousedown\",this._pointDown,this),this._fireEvent(\"editmode\");else this._pointUp(),this.points.off(\"dblclick click\",e,this).off(\"dblclick\",this._pointDblClick,this).off(\"click\",this._pointClick,this),L.Browser.mobile||(this.points.off(\"mousemove\",e).off(\"mousedown\",this._pointDown,this),this.fill.off(\"dblclick click\",e,this).off(\"mousedown\",this._pointDown,this))},_createHandlers:function(t){if(this.points){var e=L.DomEvent.stopPropagation;if(t)this._parent._enableDrag(),this._map.on(\"dblclick\",e).on(\"mousedown\",this._mouseDown,this).on(\"mouseup\",this._mouseUp,this).on(\"mousemove\",this._moseMove,this),this.points.on(\"click\",this._pointClick,this),this._fireEvent(\"addmode\"),this.lineType||this.lines.setStyle({fill:!0});else{this._map&&(this._map.off(\"dblclick\",e).off(\"mouseup\",this._mouseUp,this).off(\"mousemove\",this._moseMove,this),this.points.off(\"click\",this._pointClick,this));var i=this.options.lineStyle||{};this.lineType||i.fill||this.lines.setStyle({fill:!1})}}},setEditMode:function(){return this.options.editable&&(this._editHandlers(!1),this._createHandlers(!1),this._editHandlers(!0),this.mode=\"edit\"),this},setAddMode:function(){return this.options.editable&&(this._editHandlers(!1),this._createHandlers(!1),this._createHandlers(!0),this.mode=\"add\"),this},removeAddMode:function(){this._createHandlers(!1),this.mode=\"\"},removeEditMode:function(){this._editHandlers(!1),this.mode=\"\"},_moseMove:function(t){if(this.points){var e=this.points._latlngs;1===e.length&&this._setPoint(t.latlng,1),this._setPoint(t.latlng,e.length-1)}},_mouseDown:function(){this._lastMouseDownTime=Date.now()+200},_mouseUp:function(t){var e=Date.now();if(t.delta||e<this._lastMouseDownTime){this._lastAddTime=e+1e3;var i=t._latlng||t.latlng;t.delta&&this.addLatLng(i,t.delta),this.addLatLng(i),this._parent._parent._clearCreate()}}}),L.GmxDrawing.PointMarkers=L.Polygon.extend({options:{className:\"leaflet-drawing-points\",smoothFactor:0,opacity:1,shape:\"circle\",fill:!0,fillColor:\"#ffffff\",fillOpacity:1,size:L.Browser.mobile?40:8,weight:2},getPathLatLngs:function(){for(var t,e,i=[],n=this.options.size,o=this._parts[0],s=0,l=o.length;l>s;s++)e=o[s],(0===s||Math.abs(t.x-e.x)>n||Math.abs(t.y-e.y)>n)&&(i.push(this._latlngs[s]),t=e);return i},_getPathPartStr:function(t){for(var e,i,n=L.Path.VML,o=this.options.size/2,s=\"add\"!==this._parent.mode||L.Browser.mobile?0:1,l=\"circle\"===this.options.shape?!0:!1,a=0,r=t.length-s,h=\"\";r>a;a++)if(i=t[a],n&&i._round(),0===a||Math.abs(e.x-i.x)>this.options.size||Math.abs(e.y-i.y)>this.options.size){if(l)h+=\"M\"+i.x+\",\"+(i.y-o)+\" A\"+o+\",\"+o+\",0,1,1,\"+(i.x-.1)+\",\"+(i.y-o)+\" \";else{var p=i.x,g=p-o,d=p+o,c=i.y,u=c-o,f=c+o;h+=\"M\"+g+\" \"+u+\"L\"+d+\" \"+u+\"L\"+d+\" \"+f+\"L\"+g+\" \"+f+\"L\"+g+\" \"+u}e=i}return h},_onMouseClick:function(t){this._fireMouseEvent(t)},_isPathChange:function(){this.projectLatlngs();var t=this.getPathString();return t!==this._pathStr?(this._pathStr=t,!0):!1},_updatePath:function(){this._map&&(this._clipPoints(),this._isPathChange()&&(\"inherit\"!==this._path.getAttribute(\"fill-rule\")&&this._path.setAttribute(\"fill-rule\",\"inherit\"),this._path.setAttribute(\"d\",this._pathStr||\"M0 0\")))}}),L.GmxDrawing.utils={defaultStyles:{mode:\"\",map:!0,editable:!0,holeStyle:{opacity:.5,color:\"#003311\"},lineStyle:{opacity:1,weight:2,noClip:!0,clickable:!1,className:\"leaflet-drawing-lines\",color:\"#0033ff\",dashArray:null,lineCap:null,lineJoin:null,fill:!1,fillColor:null,fillOpacity:.2,smoothFactor:1,stroke:!0},pointStyle:{className:\"leaflet-drawing-points\",noClip:!0,smoothFactor:0,opacity:1,shape:\"circle\",fill:!0,fillColor:\"#ffffff\",fillOpacity:1,size:L.Browser.mobile?40:8,weight:2,clickable:!0,color:\"#0033ff\",dashArray:null,lineCap:null,lineJoin:null,stroke:!0},markerStyle:{mode:\"\",editable:!1,title:\"Text example\",options:{alt:\"\",clickable:!0,draggable:!1,keyboard:!0,opacity:1,zIndexOffset:0,riseOffset:250,riseOnHover:!1,icon:{className:\"\",iconUrl:\"\",iconAnchor:[12,41],iconSize:[25,41],popupAnchor:[1,-34],shadowSize:[41,41]}}}},getNotDefaults:function(t,e){var i={};\r\nfor(var n in t)if(\"icon\"!==n&&\"map\"!==n)if(\"iconAnchor\"===n||\"iconSize\"===n||\"popupAnchor\"===n||\"shadowSize\"===n){if(!e[n])continue;(e[n][0]!==t[n][0]||e[n][1]!==t[n][1])&&(i[n]=t[n])}else\"lineStyle\"===n||\"pointStyle\"===n||\"markerStyle\"===n?i[n]=this.getNotDefaults(t[n],e[n]):e&&e[n]===t[n]&&\"fill\"!==n||(i[n]=t[n]);return i},getShiftLatlng:function(t,e,i){if(i&&e){var n=e.latLngToLayerPoint(t)._add(i);t=e.layerPointToLatLng(n)}return t},getDownType:function(t,e,i){var n=t.layerPoint,o=!1,s=t.latlng;if(t.originalEvent&&t.originalEvent.ctrlKey&&(o=!0),t.touches&&1===t.touches.length){var l=t.touches[0],a=e.mouseEventToContainerPoint(l);n=e.containerPointToLayerPoint(a),s=e.layerPointToLatLng(n)}var r={type:\"\",latlng:s,ctrlKey:o},h=this.points?this:t.ring,p=h.points._originalPoints||[],g=p.length;if(0===g)return r;var d=(h.points.options.size||10)/2;d+=1+(h.points.options.weight||2);var c=new L.Bounds(L.point(n.x-d,n.y-d),L.point(n.x+d,n.y+d)),u=p[g-1],f=g-(\"add\"===h.mode?2:1);r={mode:h.mode,layerPoint:t.layerPoint,ctrlKey:o,latlng:s};for(var _=0;g>_;_++){var m=p[_];if(i.shiftPixel&&(m=p[_].add(i.shiftPixel)),c.contains(m)){r.type=\"node\",r.num=_,r.end=0===_||_===f?!0:!1;break}var y=L.LineUtil.pointToSegmentDistance(n,u,m);d>y&&(r.type=\"edge\",r.num=0===_?g:_),u=m}return r},_getLastObject:function(t){if(t.getLayers){var e=t.getLayers().shift();return e.getLayers?this._getLastObject(e):t}return t},getMarkerByPos:function(t,e){for(var i=0,n=e.length;n>i;i++){var o=e[i],s=o._obj?o._obj:null,l=s&&s._icon?s._icon._leaflet_pos:null;if(l&&l.x===t.x&&l.y===t.y)return s._latlng}return null}};\n\n\n// WEBPACK FOOTER //\n// ./external/gmxDrawing/dist/gmxDrawing-min.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./external/gmxDrawing/dist/css/gmxDrawing.css\n// module id = 8\n// module chunks = 0","\r\nclass OsmDataProvider {\r\n    constructor({serverBase, limit}){\r\n        this._serverBase = serverBase;\r\n        this._limit = limit;\r\n        this.showSuggestion = true;        \r\n        this.find = this.find.bind(this);\r\n        this.fetch = this.fetch.bind(this);\r\n        this._convertGeometry = this._convertGeometry.bind(this);\r\n\r\n        this._key = window.KOSMOSNIMKI_SESSION_KEY == null || window.KOSMOSNIMKI_SESSION_KEY == 'INVALID' ? '' : `&key=${window.KOSMOSNIMKI_SESSION_KEY}`;\r\n    }\r\n    _convertGeometry(geometry) {        \r\n        switch (geometry.type.toUpperCase()) {\r\n            case 'POINT':\r\n                geometry.type = 'Point';\r\n                break;\r\n            case 'POLYGON':\r\n                geometry.type = 'Polygon';\r\n                break;\r\n            case 'MULTIPOLYGON':\r\n                geometry.type = 'MultiPolygon';\r\n                break;\r\n            case 'LINESTRING':\r\n            case 'POLYLINE':\r\n                geometry.type = 'LineString';\r\n                break;\r\n            case 'MULTILINESTRING':\r\n                geometry.type = 'MultiLineString';\r\n                break;\r\n            default:\r\n                throw 'Unknown WKT type';\r\n        }\r\n        return geometry;\r\n    }\r\n    fetch (obj) {\r\n        const query = `RequestType=ID&ID=${obj.ObjCode}&TypeCode=${obj.TypeCode}&UseOSM=1`;        \r\n        let req = new Request(`${this._serverBase}/SearchObject/SearchAddress.ashx?${query}${this._key}`);\r\n        let headers = new Headers();\r\n        headers.append('Content-Type','application/json');\r\n        let init = {\r\n            method: 'GET',            \r\n            mode: 'cors',\r\n            cache: 'default',\r\n        };\r\n        return new Promise((resolve, reject) => {\r\n            fetch (req, init)\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(text => {\r\n                const json = JSON.parse (text.slice(1, text.length - 1));\r\n                if(json.Status === 'ok'){\r\n                    const rs = json.Result\r\n                    .reduce((a,x) => a.concat(x.SearchResult), [])\r\n                    .map(x => {\r\n                        let g = this._convertGeometry (x.Geometry);\r\n                        let props = Object.keys(x)\r\n                        .filter(k => k !== 'Geometry')\r\n                        .reduce((a,k) => {\r\n                            a[k] = x[k];\r\n                            return a;\r\n                        }, {});\r\n                        return {\r\n                            type: 'Feature',\r\n                            geometry: g,\r\n                            properties: props,\r\n                        };\r\n                    });                    \r\n                    resolve({request: obj, items: rs, provider: this});\r\n                }\r\n                else {\r\n                    reject(json);\r\n                }                \r\n            });\r\n        });\r\n    }\r\n    find(value){        \r\n        const query = `RequestType=SearchObject&IsStrongSearch=0&WithoutGeometry=1&UseOSM=1&Limit=${this._limit}&SearchString=${encodeURIComponent(value)}`;        \r\n        let req = new Request(`${this._serverBase}/SearchObject/SearchAddress.ashx?${query}${this._key}`);\r\n        let headers = new Headers();\r\n        headers.append('Content-Type','application/json');\r\n        let init = {\r\n            method: 'GET',            \r\n            mode: 'cors',\r\n            cache: 'default',\r\n        };\r\n        return new Promise((resolve, reject) => {\r\n            fetch (req, init)\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(text => {\r\n                const json = JSON.parse (text.slice(1, text.length - 1));\r\n                if(json.Status === 'ok'){\r\n                    const rs = json.Result.reduce((a,x) => a.concat(x.SearchResult), []); \r\n                    resolve({request: value, items: rs, provider: this});\r\n                }\r\n                else {\r\n                    reject(json);\r\n                }                \r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nwindow.nsGmx = window.nsGmx || {};\r\nwindow.nsGmx.OsmDataProvider = OsmDataProvider;\r\n\r\nexport { OsmDataProvider };\n\n\n// WEBPACK FOOTER //\n// ./src/OsmDataProvider.js"],"sourceRoot":""}