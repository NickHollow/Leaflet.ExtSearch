{"version":3,"sources":["webpack:///webpack/bootstrap 8bec5614a54e78e0abcb","webpack:///./E:/projects/Leaflet.ExtSearch/src/SearchControl.js","webpack:///./src/SearchControl.css","webpack:///./E:/projects/Leaflet.ExtSearch/src/ResultView.js","webpack:///./E:/projects/Leaflet.ExtSearch/src/GmxRenderer.js","webpack:///./E:/projects/Leaflet.ExtSearch/external/gmxDrawing/dist/gmxDrawing-min.js","webpack:///./external/gmxDrawing/dist/css/gmxDrawing.css","webpack:///./E:/projects/Leaflet.ExtSearch/src/OsmDataProvider.js","webpack:///./E:/projects/Leaflet.ExtSearch/src/CoordinatesDataProvider.js","webpack:///./E:/projects/Leaflet.ExtSearch/src/CadastreDataProvider.js"],"names":["SearchControl","L","Control","extend","includes","Mixin","Events","initialize","options","setOptions","_chain","tasks","state","reduce","prev","next","then","Promise","resolve","reject","_handleChange","e","text","_input","value","length","providers","map","showFirst","completed","p","provider","showSuggestion","find","fetch","response","concat","features","filter","x","showOnMap","feature","_renderer","render","style","entries","results","show","_handleMouseMove","stopPropagation","_selectItem","item","properties","onAdd","_container","DomUtil","create","innerHTML","querySelector","addEventListener","bind","input","onSelect","renderer","window","nsGmx","ResultView","_onSelect","index","count","_item","_inputText","_list","setAttribute","top","offsetTop","offsetHeight","left","offsetLeft","_handleKey","_handleWheel","parentElement","appendChild","listVisible","key","preventDefault","el","removeClass","addClass","selectItem","focus","complete","display","i","_items","name","setSelectionRange","hide","items","html","join","elements","querySelectorAll","_handleClick","GmxRenderer","_map","_gmxDrawing","GmxDrawing","json","a","layer","GeoJSON","geometryToLayer","geometry","add","addTo","addData","geoJson","bounds","getBounds","fitBounds","invalidateSize","t","Class","type","current","gmxUtil","prettifyDistance","document","createElementNS","Path","SVG_NS","setAttributeNS","n","o","testProp","hideTooltip","showTooltip","s","l","y","textContent","getAttributeNS","_pathRoot","getComputedTextLength","_drawMode","mode","on","bringToFront","addGeoJSON","getLayers","setStyle","lineStyle","_originalStyle","push","r","layerGroup","eachLayer","Feature","editable","Rectangle","Polygon","MultiPolygon","Polyline","MultiPolyline","Marker","draggable","_chkDrawOptions","markerStyle","iconStyle","pointToLayer","icon","addLayer","_addItem","setEditMode","_disableDrag","dragging","disable","disableTextSelection","disableImageDrag","doubleClickZoom","removeHooks","_enableDrag","enable","enableTextSelection","enableImageDrag","addHooks","_clearCreate","_createKey","Browser","mobile","DomEvent","off","fn","eventName","utils","defaultStyles","pointStyle","holeStyle","iconUrl","iconAnchor","iconSize","popupAnchor","shadowSize","_initPathRoot","_createType","latlng","h","originalEvent","ctrlKey","shiftKey","altKey","marker","rectangle","latLngBounds","latLng","lat","lng","_startTouchMove","_pointDown","rings","ring","_drawstop","polygon","setAddMode","polyline","_mapPane","fire","extendDefaultStyles","getFeatures","loadState","featureCollection","onEachFeature","popupOpened","getLatLng","openPopup","saveState","featureGroup","toGeoJSON","getNotDefaults","hasLayer","getPopup","_obj","Object","keys","version","object","_removeItem","splice","clear","removeLayer","remove","Map","addInitHook","gmxDrawing","ContextMenu","PointMarkers","include","LayerGroup","simplify","setLatLngs","points","getPathLatLngs","holes","invoke","bringToBack","prototype","call","_parent","setTimeout","_fireEvent","onRemove","hole","getStyle","_drawOptions","_setStyleOptions","enableEdit","disableEdit","redraw","_setLinesStyle","_setPointsStyle","getOptions","_latLngsToCoords","latLngsToCoords","_latlngsAddShift","getShiftLatlng","getPixelOffset","shiftPixel","tileSizes","_zoom","Point","Math","floor","_dx","_dy","setOffsetToGeometry","getLatLngs","setPositionOffset","_getCoords","_toGeoJSON","_getLastObject","getFeature","coordinates","getType","hideFill","_fill","showFill","weight","clearLayers","fill","fillColor","LatLngBounds","_getBounds","_layers","_initialize","removeEditMode","getArea","geoJSONGetArea","getLength","geoJSONGetLength","getSummary","distanceUnit","prettifyArea","squareUnit","formatCoordinates","Ring","_latlngs","_holes","_showTooltip","g","gmxLocale","getText","d","buttons","button","downObject","layerPoint","getDownType","c","num","u","_setMarker","bindPopup","maxWidth","closeOnClick","maxPopupCount","popup","_contentNode","title","width","split","cols","forEach","rows","update","_popup","setLatLng","_latlng","delta","_isOpen","className","opacity","shape","fillOpacity","size","_activeZIndex","activeZIndex","_notActiveZIndex","notActiveZIndex","_coords","_legLength","lines","lineType","indexOf","noClip","clickable","addLatLng","_pointUp","removeAddMode","distVincenty","_setPoint","equals","setPosition","ie","gtIE11","_draggable","_onUp","_onDragStart","which","_lastDownTime","Date","now","down","disableAddPoints","_pointMove","_clearLineAddPoint","_moved","target","_leaflet_pos","test","getMarkerByPos","_skipClick","_lastPointClickTime","_removePoint","_lineAddPointID","clearTimeout","_pointDblClick","_lastAddTime","_pointClick","end","reverse","_onDragEnd","_onDrag","_dragstartPoint","touches","_editHandlers","touchstart","touchstartFill","_EditOpacity","_createHandlers","_mouseDown","_mouseUp","_moseMove","_lastMouseDownTime","smoothFactor","_parts","abs","_getPathPartStr","VML","_round","f","_onMouseClick","_fireMouseEvent","_isPathChange","projectLatlngs","getPathString","_pathStr","_updatePath","_clipPoints","_path","getAttribute","color","dashArray","lineCap","lineJoin","stroke","alt","keyboard","zIndexOffset","riseOffset","riseOnHover","latLngToLayerPoint","_add","layerPointToLatLng","mouseEventToContainerPoint","containerPointToLayerPoint","_originalPoints","Bounds","point","_","m","contains","LineUtil","pointToSegmentDistance","shift","_icon","OsmDataProvider","serverBase","limit","onFetch","_serverBase","_onFetch","_limit","_convertGeometry","_key","KOSMOSNIMKI_SESSION_KEY","toUpperCase","obj","query","ObjCode","TypeCode","req","Request","headers","Headers","append","init","method","cache","JSON","parse","slice","Status","rs","Result","SearchResult","Geometry","props","k","encodeURIComponent","ObjNameShort","CoordinatesDataProvider","rxLat","RegExp","rxLng","coords","exec","parseFloat","hasOwnProperty","_parseCoordinates","result","CadastreDataProvider","tolerance","_tolerance","_cadastreLayers","id","reg","str","trim","len","it","status","cadastreLayer","getCadastreLayer","attrs"],"mappings":"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","file":"./dist/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8bec5614a54e78e0abcb","import './SearchControl.css';\r\nimport { ResultView } from './ResultView.js';\r\nimport { GmxRenderer } from './GmxRenderer.js';\r\nimport { OsmDataProvider } from './OsmDataProvider.js';\r\nimport { CoordinatesDataProvider } from './CoordinatesDataProvider.js';\r\nimport { CadastreDataProvider } from './CadastreDataProvider.js';\r\n\r\nlet SearchControl = L.Control.extend({\r\n    includes: [L.Mixin.Events],\r\n    initialize: function(options) {    \r\n        L.setOptions(this, options);\r\n    },\r\n    _chain (tasks, state) {        \r\n        return tasks.reduce(\r\n            (prev, next) => prev.then(next),\r\n            new Promise ((resolve, reject) => resolve (state))\r\n        );\r\n    },\r\n    _handleChange: function(e){\r\n        const text = this._input.value;\r\n        if(text.length){\r\n\r\n            let tasks = this.options.providers.map(provider => {\r\n                return state => {\r\n                    return new Promise(resolve => {\r\n                        if (this.options.showFirst && state.completed) {\r\n                            resolve(state);\r\n                        }\r\n                        else {\r\n                            let p = provider.showSuggestion ? provider.find (text) : provider.fetch (text);\r\n                            p.then(response => {\r\n                                state.completed = this.options.showFirst && response.length;\r\n                                state.response = state.response.concat(response);                                \r\n                                resolve(state);\r\n                            });\r\n                        }\r\n                    });\r\n                };\r\n            });\r\n\r\n            this._chain (tasks, {completed: false, response: []})\r\n            .then(state => {\r\n                const features = state.response.filter(x => x.provider.showOnMap).map(x => x.feature);\r\n                this._renderer.render(features, this.options.style);                \r\n\r\n                if(features.length == 0){\r\n                    const entries = state.response.filter(x => x.provider.showSuggestion);\r\n                    this.results.show(entries);\r\n                }\r\n            });\r\n\r\n            // Promise\r\n            // .all(this.options.providers.map(p => {\r\n            //     return p.showSuggestion ? p.find(this._input.value) : p.fetch(this._input.value);\r\n            // }))\r\n            // .then(values => {                \r\n            //     const features = values\r\n            //     .filter(x => !x.provider.showSuggestion)\r\n            //     .reduce((a,x) => {\r\n            //         return a.concat(x.items);\r\n            //     },[]);\r\n            //     this._renderer.render(features, this.options.style);\r\n\r\n            //     if(features.length == 0){\r\n            //         const entries = values.filter(x => x.provider.showSuggestion);\r\n            //         this.results.show(entries);\r\n            //     }\r\n            // });\r\n        }        \r\n    },\r\n    _handleMouseMove: function(e){\r\n        e.stopPropagation();\r\n    },\r\n    _selectItem: function(item){        \r\n        item.provider\r\n        .fetch(item.properties)\r\n        .then(response => {\r\n            if (item.provider.showOnMap && response.length) {\r\n                let features = response.map (x => x.feature);\r\n                this._renderer.render(features, this.options.style);                \r\n            }            \r\n        });\r\n    },\r\n    onAdd: function(map) {\r\n        this._container = L.DomUtil.create('div', 'leaflet-ext-search');\r\n        this._container.innerHTML = '<input type=\"text\" value=\"\" />';\r\n        this._input = this._container.querySelector('input');\r\n\r\n        // const style = getComputedStyle (map._container);\r\n        // const matches = (/\\d+/g).exec (style.width);\r\n        // if(matches && matches.length){\r\n        //     const width = Number.parseInt (matches[0]) - 50;\r\n        //     this._input.style.width = `${width}px`;\r\n        // }\r\n              \r\n        this._input.addEventListener('input', this._handleChange.bind(this));\r\n        this._input.addEventListener('mousemove', this._handleMouseMove.bind(this));\r\n\r\n        this.results = new ResultView({\r\n            input: this._input,\r\n            onSelect: this._selectItem.bind(this),\r\n        });        \r\n\r\n        this._renderer = this.options.renderer || new GmxRenderer(map);\r\n\r\n        return this._container;\r\n    }\r\n});\r\n\r\nwindow.nsGmx = window.nsGmx || {};\r\nwindow.nsGmx.SearchControl = SearchControl; \r\n\r\nexport { SearchControl };\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/projects/Leaflet.ExtSearch/src/SearchControl.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/SearchControl.css\n// module id = 1\n// module chunks = 0","class ResultView {\r\n    constructor({input, onSelect}){\r\n        this._input = input;\r\n        this._onSelect = onSelect;\r\n        this.index = -1;\r\n        this.count = 0;\r\n        this._item = null;\r\n        this._inputText = '';\r\n        this._list = L.DomUtil.create('div');\r\n        this._list.setAttribute('class', 'leaflet-ext-search-list noselect');        \r\n\r\n        this._list.style.top = `${this._input.offsetTop + this._input.offsetHeight + 2}px`;\r\n        this._list.style.left = `${this._input.offsetLeft}px`;\r\n        this._input.addEventListener('keydown', this._handleKey.bind(this));\r\n        this._list.addEventListener('keydown', this._handleKey.bind(this));\r\n        this._list.addEventListener('wheel', this._handleWheel.bind(this));\r\n        // this._list.addEventListener('mousemove', this._handleWheel.bind(this));\r\n        this._input.parentElement.appendChild(this._list); \r\n        this._input.addEventListener('input', this._handleChange.bind(this));      \r\n    }   \r\n\r\n    _handleChange(e){\r\n        this._inputText = this._input.value;\r\n    }\r\n\r\n    _handleWheel (e) {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    _handleMouseMove(e){\r\n        e.stopPropagation();\r\n    }\r\n\r\n    _handleKey(e){\r\n        if(this.listVisible()) {\r\n            if(e.key === 'ArrowDown'){            \r\n                e.preventDefault();                 \r\n                if (this.index < 0){\r\n                    this.index = 0;\r\n                }\r\n                else if (0 <= this.index && this.index < this.count - 1){\r\n                    let el = this._list.querySelector(`[tabindex=\"${this.index}\"]`);\r\n                    L.DomUtil.removeClass (el, 'leaflet-ext-search-list-selected');\r\n                    ++this.index;\r\n                }   \r\n                else {\r\n                    let el = this._list.querySelector(`[tabindex=\"${this.index}\"]`);\r\n                    L.DomUtil.removeClass (el, 'leaflet-ext-search-list-selected');\r\n                    this.index = this.count - 1;\r\n                }\r\n                let el = this._list.querySelector(`[tabindex=\"${this.index}\"]`);\r\n                L.DomUtil.addClass (el, 'leaflet-ext-search-list-selected'); \r\n                this.selectItem(this.index);\r\n                el.focus();          \r\n            }\r\n            else if (e.key === 'ArrowUp'){\r\n                e.preventDefault();            \r\n                if(this.index > 0){\r\n                    let el = this._list.querySelector(`[tabindex=\"${this.index}\"]`); \r\n                    L.DomUtil.removeClass (el, 'leaflet-ext-search-list-selected');\r\n                    --this.index;\r\n                    el = this._list.querySelector(`[tabindex=\"${this.index}\"]`);\r\n                    L.DomUtil.addClass (el, 'leaflet-ext-search-list-selected');\r\n                    this.selectItem(this.index);\r\n                    el.focus();            \r\n                }\r\n                else if (this.index === 0) {\r\n                    let el = this._list.querySelector(`[tabindex=\"${this.index}\"]`); \r\n                    L.DomUtil.removeClass (el, 'leaflet-ext-search-list-selected');\r\n                    this.index = -1;\r\n                    this._input.focus();                \r\n                    this._input.value = this._inputText;\r\n                    this._item = null;\r\n                }            \r\n            }\r\n            else if (e.key === 'Enter'){\r\n                this.complete (this.index);            \r\n            }  \r\n        }                                                \r\n    }\r\n\r\n    listVisible(){\r\n        return this.count > 0 && this._list.style.display !== 'none';\r\n    }\r\n\r\n    selectItem(i){        \r\n        this._item = this._items[i];        \r\n        const text = this._item.name;\r\n        this._input.value = text;\r\n        this._input.setSelectionRange(text.length, text.length);        \r\n    }\r\n\r\n    _handleClick (i, e){\r\n        e.preventDefault();\r\n        this.complete (i);\r\n    }\r\n\r\n    complete(i){\r\n        let item = i >= 0 ? this._items[i] : this._item ? this._item : null;\r\n        if(item) {\r\n            this._item = item;        \r\n            this.index = -1;            \r\n            const text = item.name;\r\n            this._input.value = text;\r\n            this._input.setSelectionRange(text.length, text.length);                          \r\n            this._input.focus();\r\n            this.hide();\r\n            if(typeof this._onSelect === 'function'){\r\n                this._onSelect (item);\r\n            }\r\n        }\r\n    }\r\n\r\n    show(items) {\r\n        this._item = null;\r\n        this.index = -1;\r\n        this._items = items;\r\n        const html = '<ul>' + this._items.map((x,i) => `<li tabindex=${i}>${x.name}</li>`, []).join('') + '</ul>';                            \r\n\r\n        this._list.innerHTML = html;\r\n        let elements = this._list.querySelectorAll('li');\r\n        for (let i = 0; i < elements.length; ++i){\r\n            elements[i].addEventListener('click', this._handleClick.bind(this, i));            \r\n        }\r\n        \r\n        this.count = elements.length;\r\n        this._list.style.display = 'block';\r\n    }\r\n    hide() {        \r\n        this._list.style.display = 'none';                \r\n    }\r\n\r\n}\r\n\r\nexport { ResultView };\n\n\n// WEBPACK FOOTER //\n// ./E:/projects/Leaflet.ExtSearch/src/ResultView.js","import '../external/gmxDrawing/dist/gmxDrawing-min.js';\r\nimport '../external/gmxDrawing/dist/css/gmxDrawing.css';\r\n\r\nclass GmxRenderer {\r\n    constructor(map){\r\n        this._map = map;\r\n        this._gmxDrawing = new L.GmxDrawing ();\r\n        this._gmxDrawing.initialize(map);        \r\n    }\r\n    render(features, style){\r\n        if(features && features.length){\r\n            let json = features\r\n            .reduce ((a,feature) => {\r\n                let layer = L.GeoJSON.geometryToLayer(feature.geometry);        \r\n                this._gmxDrawing.add(layer, style).addTo(this._map);\r\n                a.addData(feature.geometry);\r\n                return a;\r\n            }, L.geoJson());\r\n            let bounds = json.getBounds();\r\n            this._map.fitBounds(bounds);\r\n            this._map.invalidateSize();\r\n        }\r\n    }\r\n}\r\n\r\nexport { GmxRenderer };\n\n\n// WEBPACK FOOTER //\n// ./E:/projects/Leaflet.ExtSearch/src/GmxRenderer.js","!function(){var t=1e-7,e=\"1.0.0\";L.GmxDrawing=L.Class.extend({options:{type:\"\"},includes:L.Mixin.Events,initialize:function(t){if(this._map=t,this.items=[],this.current=null,L.gmxUtil&&L.gmxUtil.prettifyDistance){var e=document.createElementNS(L.Path.SVG_NS,\"g\");L.DomUtil.addClass(e,\"gmxTooltip\");var i=document.createElementNS(L.Path.SVG_NS,\"rect\");i.setAttributeNS(null,\"rx\",4),i.setAttributeNS(null,\"ry\",4),i.setAttributeNS(null,\"height\",16),L.DomUtil.addClass(i,\"gmxTooltipBG\");var n=document.createElementNS(L.Path.SVG_NS,\"text\"),o=L.DomUtil.testProp([\"userSelect\",\"WebkitUserSelect\",\"OUserSelect\",\"MozUserSelect\",\"msUserSelect\"]);n.style[o]=\"none\",e.appendChild(i),e.appendChild(n),this.hideTooltip=function(){e.setAttributeNS(null,\"visibility\",\"hidden\")},this.showTooltip=function(t,o){var s=t.x+11,l=t.y-14;n.setAttributeNS(null,\"x\",s),n.setAttributeNS(null,\"y\",l),n.textContent=o,\"visible\"!==e.getAttributeNS(null,\"visibility\")&&(this._map._pathRoot.appendChild(e),e.setAttributeNS(null,\"visibility\",\"visible\"));var a=n.getComputedTextLength();i.setAttributeNS(null,\"width\",a+8),i.setAttributeNS(null,\"x\",s-4),i.setAttributeNS(null,\"y\",l-12)}}var s=function(t){this._drawMode=t.mode};this.on(\"drawstop drawstart\",s)},bringToFront:function(){for(var t=0,e=this.items.length;e>t;t++){var i=this.items[t];i._map&&\"bringToFront\"in i&&i.bringToFront()}},addGeoJSON:function(t,e){var i=[],n=t instanceof L.GeoJSON;if(n||(t=L.geoJson(t,e)),t instanceof L.GeoJSON){var o=t.getLayers();if(o)for(var s=function(t){var n=null;if(t.setStyle&&e&&e.lineStyle){n={};for(var o in e.lineStyle)n[o]=e.lineStyle[o];t.setStyle(e.lineStyle)}var s=this.add(t,e);s._originalStyle=n,i.push(s)},l=0,a=o.length;a>l;l++){var r=o[l];\"GeometryCollection\"!==r.feature.geometry.type&&(r=L.layerGroup([r])),r.eachLayer(s,this)}}return i},add:function(t,e){var i=null;if(t){if(t instanceof L.GmxDrawing.Feature)i=t;else{var n={};if(e&&\"editable\"in e||(n.editable=!0),t.geometry?n.type=t.geometry.type:t instanceof L.Rectangle?n.type=\"Rectangle\":t instanceof L.Polygon?n.type=\"Polygon\":t instanceof L.MultiPolygon?n.type=\"MultiPolygon\":t instanceof L.Polyline?n.type=\"Polyline\":t instanceof L.MultiPolyline?n.type=\"MultiPolyline\":t instanceof L.Marker&&(n.type=\"Point\",n.editable=!1,t.options.draggable=!0),e=this._chkDrawOptions(n.type,e),L.extend(e,n),t.geometry){var o=e.markerStyle&&e.markerStyle.iconStyle;return\"Point\"===e.type&&!e.pointToLayer&&o&&(e.icon=L.icon(o),e.pointToLayer=function(t,i){return new L.Marker(i,e)}),this.addGeoJSON(t,e)}i=new L.GmxDrawing.Feature(this,t,e)}\"map\"in e||(e.map=!0),e.map&&!i._map?this._map.addLayer(i):this._addItem(i),\"setEditMode\"in i&&i.setEditMode()}return i},_disableDrag:function(){this._map.dragging.disable(),L.DomUtil.disableTextSelection(),L.DomUtil.disableImageDrag(),this._map.doubleClickZoom.removeHooks()},_enableDrag:function(){this._map.dragging.enable(),L.DomUtil.enableTextSelection(),L.DomUtil.enableImageDrag(),this._map.doubleClickZoom.addHooks()},_clearCreate:function(){this._createKey&&(\"Rectangle\"===this._createKey.type&&L.Browser.mobile?L.DomEvent.off(this._map._container,\"touchstart\",this._createKey.fn,this):this._map.off(this._createKey.eventName,this._createKey.fn,this),this._enableDrag()),this._createKey=null},_chkDrawOptions:function(t,e){var i=L.GmxDrawing.utils.defaultStyles,n={};if(e||(e=L.extend({},i)),\"Point\"===t?L.extend(n,i.markerStyle.options.icon,e):(L.extend(n,e),n.lineStyle=L.extend({},i.lineStyle,e.lineStyle),n.pointStyle=L.extend({},i.pointStyle,e.pointStyle),n.holeStyle=L.extend({},i.holeStyle,e.holeStyle)),n.iconUrl){var o={iconUrl:n.iconUrl};delete n.iconUrl,n.iconAnchor&&(o.iconAnchor=n.iconAnchor,delete n.iconAnchor),n.iconSize&&(o.iconSize=n.iconSize,delete n.iconSize),n.popupAnchor&&(o.popupAnchor=n.popupAnchor,delete n.popupAnchor),n.shadowSize&&(o.shadowSize=n.shadowSize,delete n.shadowSize),n.markerStyle={iconStyle:o}}return n},create:function(e,i){if(this._clearCreate(null),e){var n=this._map,o=this._chkDrawOptions(e,i),s=this;\"Rectangle\"===e&&(n._initPathRoot(),n.dragging.disable()),this._createKey={type:e,eventName:\"Rectangle\"===e?L.Browser.mobile?\"touchstart\":\"mousedown\":\"click\",fn:function(i){s._createType=\"\";var n,l,a={},r=i.latlng;for(l in o)l in L.GmxDrawing.utils.defaultStyles||(a[l]=o[l]);if(\"Point\"===e){var h=o.markerStyle||{},p={draggable:!0};i&&i.originalEvent&&(p.ctrlKey=i.originalEvent.ctrlKey,p.shiftKey=i.originalEvent.shiftKey,p.altKey=i.originalEvent.altKey),h.iconStyle&&(p.icon=L.icon(h.iconStyle)),n=s.add(L.marker(r,p),a)}else o.pointStyle&&(a.pointStyle=o.pointStyle),o.lineStyle&&(a.lineStyle=o.lineStyle),\"Rectangle\"===e?(a.mode=\"edit\",n=s.add(L.rectangle(L.latLngBounds(L.latLng(r.lat+t,r.lng-t),r)),a),L.Browser.mobile?n._startTouchMove(i,!0):n._pointDown(i),n.rings[0].ring._drawstop=!0):\"Polygon\"===e?(a.mode=\"add\",n=s.add(L.polygon([r]),a),n.setAddMode()):\"Polyline\"===e&&(a.mode=\"add\",n=s.add(L.polyline([r]),a).setAddMode());s._clearCreate()}},\"Rectangle\"===e&&L.Browser.mobile?L.DomEvent.on(n._container,\"touchstart\",this._createKey.fn,this):n.on(this._createKey.eventName,this._createKey.fn,this),this._createType=e,L.DomUtil.addClass(n._mapPane,\"leaflet-clickable\"),this.fire(\"drawstart\",{mode:e})}this.options.type=e},extendDefaultStyles:function(t){var e=L.GmxDrawing.utils.defaultStyles;if(t=t||{},t.iconUrl){var i=e.markerStyle.options.icon;i.iconUrl=t.iconUrl,delete t.iconUrl,t.iconAnchor&&(i.iconAnchor=t.iconAnchor,delete t.iconAnchor),t.iconSize&&(i.iconSize=t.iconSize,delete t.iconSize),t.popupAnchor&&(i.popupAnchor=t.popupAnchor,delete t.popupAnchor),t.shadowSize&&(i.shadowSize=t.shadowSize,delete t.shadowSize)}return t.lineStyle&&(L.extend(e.lineStyle,t.lineStyle),delete t.lineStyle),t.pointStyle&&(L.extend(e.pointStyle,t.pointStyle),delete t.pointStyle),t.holeStyle&&(L.extend(e.holeStyle,t.holeStyle),delete t.holeStyle),L.extend(e,t),this},getFeatures:function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e]);return t},loadState:function(t){var e=this,i=t.featureCollection;L.geoJson(i,{onEachFeature:function(t,i){var n=t.properties,o=n.popupOpened;if(\"Rectangle\"===n.type)i=L.rectangle(i.getBounds());else if(\"Point\"===n.type){n=n.options;var s=n.icon;s&&(delete n.icon,s.iconUrl&&(n.icon=L.icon(s))),i=L.marker(i.getLatLng(),n)}i.setStyle&&n&&n.lineStyle&&i.setStyle(n.lineStyle),e.add(i,n),o&&i.openPopup()}})},saveState:function(){for(var t=L.featureGroup(),i=[],n=0,o=this.items.length;o>n;n++){var s=this.items[n];if(\"Point\"===s.options.type){var l=s.toGeoJSON();l.properties=L.GmxDrawing.utils.getNotDefaults(s.options,L.GmxDrawing.utils.defaultStyles.markerStyle),s._map?s._map.hasLayer(s.getPopup())&&(l.properties.popupOpened=!0):l.properties.map=!1;var a=L.GmxDrawing.utils.getNotDefaults(s._obj.options,L.GmxDrawing.utils.defaultStyles.markerStyle.options);Object.keys(a).length&&(l.properties.options=a),a=L.GmxDrawing.utils.getNotDefaults(s._obj.options.icon.options,L.GmxDrawing.utils.defaultStyles.markerStyle.options.icon),Object.keys(a).length&&(l.properties.options||(l.properties.options={}),l.properties.options.icon=a),i.push(l)}else t.addLayer(s)}var r=t.toGeoJSON();return r.features=r.features.concat(i),{version:e,featureCollection:r}},_addItem:function(t){for(var e=!0,i=0,n=this.items.length;n>i;i++){var o=this.items[i];if(o===t){e=!1;break}}e&&this.items.push(t),this.fire(\"add\",{mode:t.mode,object:t})},_removeItem:function(t,e){for(var i=0,n=this.items.length;n>i;i++){var o=this.items[i];if(o===t){if(e){this.items.splice(i,1);var s={type:o.options.type,mode:o.mode,object:o};this.fire(\"remove\",s),o.fire(\"remove\",s)}return o}}return null},clear:function(){for(var t=0,e=this.items.length;e>t;t++){var i=this.items[t];i&&i._map&&i._map.removeLayer(i);var n={type:i.options.type,mode:i.mode,object:i};this.fire(\"remove\",n),i.fire(\"remove\",n)}return this.items=[],this},remove:function(t){var e=this._removeItem(t,!0);return e&&e._map&&e._map.removeLayer(e),e}}),L.Map.addInitHook(function(){this.gmxDrawing=new L.GmxDrawing(this),L.Mixin.ContextMenu&&L.GmxDrawing.PointMarkers.include(L.Mixin.ContextMenu)})}(),L.GmxDrawing.Feature=L.LayerGroup.extend({options:{mode:\"\"},includes:L.Mixin.Events,simplify:function(){var t,e,i,n,o;for(t=0,i=this.rings.length;i>t;t++){var s=this.rings[t],l=s.ring;for(l.setLatLngs(l.points.getPathLatLngs()),e=0,n=s.holes.length;n>e;e++)o=s.holes[e],o.setLatLngs(o.points.getPathLatLngs())}return this},bringToFront:function(){return this.invoke(\"bringToFront\")},bringToBack:function(){return this.invoke(\"bringToBack\")},onAdd:function(t){if(L.LayerGroup.prototype.onAdd.call(this,t),this._parent._addItem(this),\"Point\"===this.options.type){t.addLayer(this._obj);var e=this;setTimeout(function(){e._fireEvent(\"drawstop\",e._obj.options)},0)}this._fireEvent(\"addtomap\")},onRemove:function(t){\"hideTooltip\"in this&&this.hideTooltip(),L.LayerGroup.prototype.onRemove.call(this,t),\"Point\"===this.options.type&&t.removeLayer(this._obj),this._fireEvent(\"removefrommap\")},remove:function(t){if(t){var e,i,n,o,s;for(e=0,n=this.rings.length;n>e;e++)if(t.options.hole){for(i=0,o=this.rings[e].holes.length;o>i;i++)if(s=this.rings[e].holes[i],t===s){this.rings[e].holes.splice(i,1),s._map&&s._map.removeLayer(s);break}if(!t._map)break}else if(t===this.rings[e].ring){for(i=0,o=this.rings[e].holes.length;o>i;i++)s=this.rings[e].holes[i],s._map&&s._map.removeLayer(s);this.rings.splice(e,1),t._map&&t._map.removeLayer(t);break}}else this.rings=[];return this.rings.length<1&&(this._originalStyle&&this._obj.setStyle(this._originalStyle),this._parent.remove(this)),this},_fireEvent:function(t){if(!(\"removefrommap\"===t&&this.rings.length>1)){var e={mode:this.mode||\"\",object:this};this.fire(t,e),this._parent.fire(t,e),\"drawstop\"===t&&this._map&&L.DomUtil.removeClass(this._map._mapPane,\"leaflet-clickable\")}},getStyle:function(){var t=L.extend({},this._drawOptions);return delete t.holeStyle,\"Point\"===t.type&&(L.extend(t,t.markerStyle.iconStyle),delete t.markerStyle),t},setOptions:function(t){return t.lineStyle&&this._setStyleOptions(t.lineStyle,\"lines\"),t.pointStyle&&this._setStyleOptions(t.pointStyle,\"points\"),\"editable\"in t&&(t.editable?this.enableEdit():this.disableEdit()),L.setOptions(this,t),this._fireEvent(\"optionschange\"),this},_setStyleOptions:function(t,e){for(var i=0,n=this.rings.length;n>i;i++){var o=this.rings[i].ring[e];o.setStyle(t),o.redraw();for(var s=0,l=this.rings[i].holes.length;l>s;s++)o=this.rings[i].holes[s][e],o.setStyle(t),o.redraw()}this._fireEvent(\"stylechange\")},_setLinesStyle:function(t){this._setStyleOptions(t,\"lines\")},_setPointsStyle:function(t){this._setStyleOptions(t,\"points\")},getOptions:function(){var t=this.options,e=L.extend({},t);e.lineStyle=t.lineStyle,e.pointStyle=t.pointStyle;var i=L.GmxDrawing.utils.getNotDefaults(e,L.GmxDrawing.utils.defaultStyles);if(Object.keys(i.lineStyle).length||delete i.lineStyle,Object.keys(i.pointStyle).length||delete i.pointStyle,this._map||(i.map=!1),\"Point\"===t.type){var n=L.GmxDrawing.utils.getNotDefaults(this._obj.options,L.GmxDrawing.utils.defaultStyles.markerStyle.options);Object.keys(n).length&&(i.options=n),n=L.GmxDrawing.utils.getNotDefaults(this._obj.options.icon.options,L.GmxDrawing.utils.defaultStyles.markerStyle.options.icon),Object.keys(n).length&&(i.options.icon=n)}return i},_latLngsToCoords:function(t,e){var i=L.GeoJSON.latLngsToCoords(t);if(e){var n=i[i.length-1];(n[0]!==i[0][0]||n[1]!==i[0][1])&&i.push(i[0])}return i},_latlngsAddShift:function(t,e){for(var i=[],n=0,o=t.length;o>n;n++)i.push(L.GmxDrawing.utils.getShiftLatlng(t[n],this._map,e));return i},getPixelOffset:function(){var t=this.shiftPixel;if(!t&&this._map){var e=256/L.gmxUtil.tileSizes[this._map._zoom];t=this.shiftPixel=new L.Point(Math.floor(e*this._dx),-Math.floor(e*this._dy))}return t||new L.Point(0,0)},setOffsetToGeometry:function(t,e){var i,n,o,s,l,a,r=256/L.gmxUtil.tileSizes[this._map._zoom],h=new L.Point(r*(this._dx||t||0),-r*(this._dy||e||0));for(i=0,n=this.rings.length;n>i;i++){var p=this.rings[i];if(l=p.ring,a=l.points.getLatLngs(),l.setLatLngs(this._latlngsAddShift(a,h)),p.holes&&p.holes.length)for(o=0,s=p.holes.length;s>o;o++)l=p.holes[o].ring,a=l.points.getLatLngs(),l.setLatLngs(this._latlngsAddShift(a,h))}return this.setPositionOffset(),this},setPositionOffset:function(t,e){if(this._dx=t||0,this._dy=e||0,this._map){this.shiftPixel=null;for(var i=this.getPixelOffset(),n=0,o=this.rings.length;o>n;n++){this.rings[n].ring.setPositionOffset(i);for(var s=0,l=this.rings[n].holes.length;l>s;s++)this.rings[n].holes[s].setPositionOffset(i)}}},_getCoords:function(t){for(var e=this.options.type,i=\"Polygon\"===e||\"Rectangle\"===e||\"MultiPolygon\"===e,n=t?null:this.shiftPixel,o=[],s=0,l=this.rings.length;l>s;s++){var a=this.rings[s],r=this._latLngsToCoords(a.ring.points.getLatLngs(),i,n);if(i&&(r=[r]),a.holes&&a.holes.length)for(var h=0,p=a.holes.length;p>h;h++)r.push(this._latLngsToCoords(a.holes[h].points.getLatLngs(),i,n));o.push(r)}return(\"Polyline\"===e||i&&\"MultiPolygon\"!==e)&&(o=o[0]),o},toGeoJSON:function(){return this._toGeoJSON(!0)},_toGeoJSON:function(t){var e,i=this.options.type,n=this.getOptions();if(delete n.mode,!this.options.editable||\"Point\"===i){var o=this._obj;o instanceof L.GeoJSON&&(o=L.GmxDrawing.utils._getLastObject(o).getLayers()[0]);var s=o.toGeoJSON();return s.properties=n,s}return this.rings&&(e=this._getCoords(t),\"Rectangle\"===i?i=\"Polygon\":\"Polyline\"===i?i=\"LineString\":\"MultiPolyline\"===i&&(i=\"MultiLineString\")),L.GeoJSON.getFeature({feature:{type:\"Feature\",properties:n}},{type:i,coordinates:e})},getType:function(){return this.options.type},hideFill:function(){this._fill._map&&this._map.removeLayer(this._fill)},showFill:function(){var t=this.toGeoJSON(),e=L.GeoJSON.geometryToLayer(t,null,null,{weight:0});return this._fill.clearLayers(),e instanceof L.LayerGroup?e.eachLayer(function(t){this._fill.addLayer(t)},this):(e.setStyle({weight:0,fill:!0,fillColor:\"#0033ff\"}),this._fill.addLayer(e)),this._fill._map||(this._map.addLayer(this._fill),this._fill.bringToBack()),this},getBounds:function(){var t=new L.LatLngBounds;if(\"Point\"===this.options.type){var e=this._obj.getLatLng();t.extend(e)}else t=this._getBounds();return t},_getBounds:function(t){var e,i=t||this,n=new L.LatLngBounds;return i instanceof L.LayerGroup?(i.eachLayer(function(t){e=this._getBounds(t),n.extend(e)},this),n):(e=i instanceof L.Marker?i.getLatLng():i.getBounds(),n.extend(e),n)},initialize:function(t,e,i){i=i||{},i.mode=\"\",this._drawOptions=L.extend({},i);var n=i.type;\"Point\"===n?(delete i.pointStyle,delete i.lineStyle):(delete i.iconUrl,delete i.iconAnchor,delete i.iconSize,delete i.popupAnchor,delete i.shadowSize,delete i.markerStyle),delete i.holeStyle,L.setOptions(this,i),this._layers={},this._obj=e,this._parent=t,this._dx=0,this._dy=0,this._initialize(t,e)},enableEdit:function(){this.options.mode=\"edit\";var t=this.options.type;if(\"Point\"!==t){for(var e=0,i=this.rings.length;i>e;e++){var n=this.rings[e];n.ring.options.editable=this.options.editable,n.ring.setEditMode();for(var o=0,s=n.holes.length;s>o;o++){var l=n.holes[o];l.options.editable=this.options.editable,l.setEditMode()}}var a=L.geoJson(this.toGeoJSON());this.options.editable=!0,this._initialize(this._parent,a)}return this},disableEdit:function(){var t=this.options.type;if(\"Point\"!==t){this._originalStyle=this.options.lineStyle;for(var e=L.geoJson(this.toGeoJSON().geometry,this._originalStyle).getLayers()[0],i=0,n=this.rings.length;n>i;i++){var o=this.rings[i];o.ring.removeEditMode(),o.ring.options.editable=!1;for(var s=0,l=o.holes.length;l>s;s++){var a=o.holes[s];a.removeEditMode(),a.options.editable=!1}}this._obj=e,this.options.editable=!1,this._initialize(this._parent,this._obj)}return this},getArea:function(){var t=0;return L.gmxUtil.geoJSONGetArea&&(t=L.gmxUtil.geoJSONGetArea(this.toGeoJSON())),t},getLength:function(){var t=0;return L.gmxUtil.geoJSONGetLength&&(t=L.gmxUtil.geoJSONGetLength(this.toGeoJSON())),t},getSummary:function(){var t=\"\",e=this._map.options||{},i=this.options.type;if(\"Polyline\"===i||\"MultiPolyline\"===i)t=L.gmxUtil.prettifyDistance(this.getLength(),e.distanceUnit);else if(\"Polygon\"===i||\"MultiPolygon\"===i||\"Rectangle\"===i)t=L.gmxUtil.prettifyArea(this.getArea(),e.squareUnit);else if(\"Point\"===i){var n=this._obj.getLatLng();t=L.gmxUtil.formatCoordinates(n)}return t},_initialize:function(t,e){if(this.clearLayers(),this.rings=[],this.mode=\"\",this._fill=L.featureGroup(),this.options.editable){for(var i=e.getLayers?L.GmxDrawing.utils._getLastObject(e).getLayers():[e],n=0,o=i.length;o>n;n++){var s=i[n],l=[],a=new L.GmxDrawing.Ring(this,s._latlngs,{ring:!0,editable:this.options.editable});if(this.addLayer(a),s._holes)for(var r=0,h=s._holes.length;h>r;r++){var p=new L.GmxDrawing.Ring(this,s._holes[r],{hole:!0,editable:this.options.editable});this.addLayer(p),l.push(p)}this.rings.push({ring:a,holes:l})}if(L.gmxUtil&&L.gmxUtil.prettifyDistance&&!this._showTooltip){var g=function(t){var e=L.gmxLocale?L.gmxLocale.getText(t):null;return e||t},d=this;this._showTooltip=function(t,e){var i=e.ring,n=e.originalEvent,o=n.buttons||n.button;if(i&&(i.downObject||!o)){var s=d._map.options||{},l=s.distanceUnit,a=s.squareUnit,r=\"\";if(\"Area\"===t){if(!L.gmxUtil.getArea)return;r=e.originalEvent.ctrlKey?g(\"Perimeter\")+\": \"+L.gmxUtil.prettifyDistance(d.getLength(),l):g(t)+\": \"+L.gmxUtil.prettifyArea(d.getArea(),a),d._parent.showTooltip(e.layerPoint,r)}else if(\"Length\"===t){var h=L.GmxDrawing.utils.getDownType.call(d,e,d._map,d),p=i.getLength(h),c=(\"edit\"===h.mode||h.num>1?h.type:\"\")+t,u=g(c);r=(u===c?g(t):u)+\": \"+L.gmxUtil.prettifyDistance(p,l),d._parent.showTooltip(e.layerPoint,r)}d._fireEvent(\"onMouseOver\")}},this.hideTooltip=function(){this._parent.hideTooltip(),this._fireEvent(\"onMouseOut\")}}}else\"Point\"===this.options.type?this._setMarker(e):this.addLayer(e)},_enableDrag:function(){this._parent._enableDrag()},_disableDrag:function(){this._parent._disableDrag()},_setMarker:function(t){var e=this,i=this._parent;t.bindPopup(null,{maxWidth:1e3,closeOnClick:i._map.options.maxPopupCount>1?!1:!0}).on(\"dblclick\",function(){this._map.removeLayer(this),e.remove()}).on(\"dragstart\",function(){e._fireEvent(\"dragstart\")}).on(\"drag\",function(){e._fireEvent(\"drag\"),e._fireEvent(\"edit\")}).on(\"dragend\",function(){e._fireEvent(\"dragend\")}).on(\"popupopen\",function(i){var n=i.popup;n._input||(n._input=L.DomUtil.create(\"textarea\",\"leaflet-gmx-popup-textarea\",n._contentNode),n._input.value=e.options.title||t.options.title||\"\",n._contentNode.style.width=\"auto\"),L.DomEvent.on(n._input,\"keyup\",function(){var i=this.value.split(\"\\n\"),o=this.cols||0;i.forEach(function(t){t.length>o&&(o=t.length)}),this.rows=i.length,o&&(this.cols=o),n.update(),e.options.title=t.options.title=this.value,this.focus()},n._input),n.update()}),i._map.addLayer(t),e.openPopup=t.openPopup=function(){if(t._popup&&t._map&&!t._map.hasLayer(t._popup)){t._popup.setLatLng(t._latlng);var e=t._map.gmxDrawing;e._drawMode?t._map.fire(e._createType?\"click\":\"mouseup\",{latlng:t._latlng,delta:1}):(t._popup.addTo(t._map),t._popup._isOpen=!0)}return t}},setAddMode:function(){return this.rings.length&&this.rings[0].ring.setAddMode(),this},_pointDown:function(t){this.rings.length&&this.rings[0].ring._pointDown(t)},getPopup:function(){return\"Point\"===this.options.type?this._obj.getPopup():void 0}}),L.GmxDrawing.Ring=L.LayerGroup.extend({options:{className:\"leaflet-drawing-ring\",opacity:1,shape:\"circle\",fill:!0,fillColor:\"#ffffff\",fillOpacity:1,size:L.Browser.mobile?40:8,weight:2},includes:L.Mixin.Events,initialize:function(t,e,i){i=i||{},i.mode=\"\",this._activeZIndex=i.activeZIndex||7,this._notActiveZIndex=i.notActiveZIndex||6,this.options=L.extend({},t.getStyle(),i),this._layers={},this._coords=e,this._legLength=[],this._parent=t,this._initialize(t,e)},_initialize:function(t,e){this.clearLayers(),delete this.lines,delete this.fill,delete this.points,this.downObject=!1,this.mode=\"\",this.lineType=-1!==this.options.type.indexOf(\"Polyline\");var i=this.options.pointStyle,n={opacity:1,weight:2,noClip:!0,clickable:!1,className:\"leaflet-drawing-lines\"};if(this.lineType||(n.fill=\"fill\"in this.options?this.options.fill:!0),this.options.lineStyle)for(var o in this.options.lineStyle)\"fill\"===o&&this.lineType||(n[o]=this.options.lineStyle[o]);this.options.hole&&(n=L.extend({},n,L.GmxDrawing.utils.defaultStyles.holeStyle),i=L.extend({},i,L.GmxDrawing.utils.defaultStyles.holeStyle));var s=e,l=this,a=this.options.mode||(s.length?\"edit\":\"add\");this.lines=new L.Polyline(s,n),this.addLayer(this.lines),this.fill=new L.Polyline(s,{className:\"leaflet-drawing-lines-fill\",opacity:0,fill:!1,size:10,weight:10}),this.addLayer(this.fill),this.lineType||\"edit\"!==a||(this.lines.addLatLng(s[0]),this.fill.addLatLng(s[0])),this.mode=a,this.points=new L.GmxDrawing.PointMarkers(s,i),this.points._parent=this,this.addLayer(this.points),this.points.on(\"mouseover mousemove\",function(t){t.ring=l,\"_showTooltip\"in this&&this._showTooltip(l.lineType?\"Length\":\"Area\",t)},t).on(\"mouseout\",function(){\"hideTooltip\"in this&&this.hideTooltip()},t),this.fill.on(\"mouseover mousemove\",function(t){t.ring=l,\"_showTooltip\"in this&&this._showTooltip(\"Length\",t)},t).on(\"mouseout\",function(){\"hideTooltip\"in this&&this.hideTooltip()},t)},onAdd:function(t){L.LayerGroup.prototype.onAdd.call(this,t),this.setEditMode()},onRemove:function(t){this.points&&(this._pointUp(),this.removeAddMode(),this.removeEditMode(),\"hideTooltip\"in this._parent&&this._parent.hideTooltip()),L.LayerGroup.prototype.onRemove.call(this,t),\"Point\"===this.options.type&&t.removeLayer(this._obj),this._fireEvent(\"removefrommap\")},getLength:function(t){var e=0,i=this.points._latlngs,n=i.length;if(n){var o=1,s=i[0];t&&(\"node\"===t.type?n=t.num+1:(o=t.num,o===n?(s=i[o-1],o=0):s=i[o-1],n=o+1));for(var l=o;n>l;l++){var a=this._legLength[l]||null;null===a&&(a=L.gmxUtil.distVincenty(s.lng,s.lat,i[l].lng,i[l].lat),this._legLength[l]=a),s=i[l],e+=a}}return e},_setPoint:function(t,e,i){if(this.points){var n=this.points._latlngs;\"Rectangle\"===this.options.type?(\"edge\"===i?(e--,0===e?n[0].lng=n[1].lng=t.lng:1===e?n[1].lat=n[2].lat=t.lat:2===e?n[2].lng=n[3].lng=t.lng:3===e&&(n[0].lat=n[3].lat=t.lat)):(n[e]=t,0===e?(n[3].lat=t.lat,n[1].lng=t.lng):1===e?(n[2].lat=t.lat,n[0].lng=t.lng):2===e?(n[1].lat=t.lat,n[3].lng=t.lng):3===e&&(n[0].lat=t.lat,n[2].lng=t.lng)),this._legLength=[]):(n[e]=t,this._legLength[e]=null,this._legLength[e+1]=null),this.setLatLngs(n)}},addLatLng:function(t,e){if(this._legLength=[],this.points){var i=this.points._latlngs,n=i.length,o=i[n-2];o&&o.equals(t)||(e&&(n-=e),this._setPoint(t,n,\"node\"))}else\"addLatLng\"in this._obj&&this._obj.addLatLng(t)},setPositionOffset:function(t){L.DomUtil.setPosition(this.points._container,t),L.DomUtil.setPosition(this.fill._container,t),L.DomUtil.setPosition(this.lines._container,t)},setLatLngs:function(t){if(this.points){var e=this.points;this.fill.setLatLngs(t),this.lines.setLatLngs(t),!this.lineType&&\"edit\"===this.mode&&t.length>2&&(this.lines.addLatLng(t[0]),this.fill.addLatLng(t[0])),e.setLatLngs(t)}else\"setLatLngs\"in this._obj&&this._obj.setLatLngs(t);this._fireEvent(\"edit\")},_pointDown:function(t){if((L.Browser.ie||L.gmxUtil&&L.gmxUtil.gtIE11)&&this._map.dragging._draggable._onUp(),this._parent._disableDrag(),t.originalEvent){var e=t.originalEvent;if(e.ctrlKey)return this._onDragStart(t),void 0;if(1!==e.which&&1!==e.button)return}var i=L.GmxDrawing.utils.getDownType.call(this,t,this._map,this._parent),n=i.type,o=this.options;if(this._lastDownTime=Date.now()+100,this.down=i,\"edge\"===n&&\"Rectangle\"!==o.type){if(o.disableAddPoints)return;this._legLength=[];var s=i.num,l=this.points._latlngs;l.splice(s,0,l[s]),this._setPoint(t.latlng,s,n)}this.downObject=!0,this._map.on(\"mousemove\",this._pointMove,this).on(\"mouseup\",this._pointUp,this)},_pointMove:function(t){this.down&&this._lastDownTime<Date.now()&&(this.lineType||this._parent.showFill(),this._clearLineAddPoint(),this._moved=!0,this._setPoint(t.latlng,this.down.num,this.down.type),\"_showTooltip\"in this._parent&&this._parent._showTooltip(this.lineType?\"Length\":\"Area\",t))},_pointUp:function(t){if(this.downObject=!1,this._parent._enableDrag(),this.points){if(this._map){this._map.off(\"mousemove\",this._pointMove,this).off(\"mouseup\",this._pointUp,this);var e=t&&t.originalEvent?t.originalEvent.target:null;if(e&&e._leaflet_pos&&/leaflet-marker-icon/.test(e.className)){var i=L.GmxDrawing.utils.getMarkerByPos(e._leaflet_pos,this._map.gmxDrawing.getFeatures());this._setPoint(i,this.down.num,this.down.type)}this._map._skipClick=!0}this._drawstop&&this._fireEvent(\"drawstop\"),this._drawstop=!1,this.down=null;var n=this.options.lineStyle||{};n.fill||this.lineType||this._parent.hideFill()}},_lastPointClickTime:0,_removePoint:function(t){var e=this.points._latlngs;e.length>t&&(this._legLength=[],e.splice(t,1),\"Rectangle\"===this.options.type||e.length<2||e.length<3&&!this.lineType?this._parent.remove(this):this._setPoint(e[0],0))},_clearLineAddPoint:function(){this._lineAddPointID&&clearTimeout(this._lineAddPointID),this._lineAddPointID=null},_pointDblClick:function(t){if(this._clearLineAddPoint(),!this._lastAddTime||Date.now()>this._lastAddTime){var e=L.GmxDrawing.utils.getDownType.call(this,t,this._map,this._parent);this._removePoint(e.num)}},_pointClick:function(t){if(!t.originalEvent||!t.originalEvent.ctrlKey){var e=Date.now(),i=this._lastPointClickTime;if(this._lastPointClickTime=e+300,this._moved||i>e)return this._moved=!1,void 0;var n=L.GmxDrawing.utils.getDownType.call(this,t,this._map,this._parent),o=this.mode;if(\"node\"===n.type){var s=n.num;if(n.end){if(\"add\"===o)this._pointUp(),this.setEditMode(),this.lineType&&0===s&&(this._parent.options.type=this.options.type=\"Polygon\",this.lineType=!1,this._removePoint(this.points._latlngs.length-1)),this._fireEvent(\"drawstop\"),this._removePoint(s);else if(this.lineType){var l=this,a=function(){l._clearLineAddPoint(),0===s&&l.points._latlngs.reverse(),l.points.addLatLng(n.latlng),l.setAddMode(),l._fireEvent(\"drawstop\")};this._lineAddPointID=setTimeout(a,250)}}else\"add\"===o&&this.addLatLng(t.latlng)}}},_onDragEnd:function(){this._map.off(\"mouseup\",this._onDragEnd,this).off(\"mousemove\",this._onDrag,this),this._parent._enableDrag(),this._fireEvent(\"dragend\")},_onDragStart:function(t){this._dragstartPoint=t.latlng,this._map.on(\"mouseup\",this._onDragEnd,this).on(\"mousemove\",this._onDrag,this),this._fireEvent(\"dragstart\")},_onDrag:function(t){var e=this._dragstartPoint.lat-t.latlng.lat,i=this._dragstartPoint.lng-t.latlng.lng,n=this.points._latlngs;n.forEach(function(t){t.lat-=e,t.lng-=i}),this._dragstartPoint=t.latlng,this._legLength=[],this.setLatLngs(n),this._fireEvent(\"drag\")},_fireEvent:function(t){this._parent._fireEvent(t)},_startTouchMove:function(t,e){var i=L.GmxDrawing.utils.getDownType.call(this,t,this._map,this._parent);if(\"node\"===i.type){this._parent._disableDrag(),this.down=i;var n=this,o=function(t){i=L.GmxDrawing.utils.getDownType.call(n,t,n._map,this._parent),1===t.touches.length&&n._pointMove(i)},s=function(){L.DomEvent.off(n._map._container,\"touchmove\",o,n).off(n._map._container,\"touchend\",s,n),n._parent._enableDrag(),e&&n._parent.fire(\"drawstop\",{mode:n.options.type,object:n})};L.DomEvent.on(n._map._container,\"touchmove\",o,n).on(n._map._container,\"touchend\",s,n)}},_editHandlers:function(t){var e=L.DomEvent.stopPropagation;if(this.touchstart&&L.DomEvent.off(this.points._container,\"touchstart\",this.touchstart,this),this.touchstartFill&&L.DomEvent.off(this.fill._container,\"touchstart\",this.touchstartFill,this),this.touchstart=null,this.touchstartFill=null,t)if(this.points.on(\"dblclick click\",e,this).on(\"dblclick\",this._pointDblClick,this).on(\"click\",this._pointClick,this),L.Browser.mobile){this._EditOpacity&&this._parent._setPointsStyle({fillOpacity:this._EditOpacity});var i=this;this.touchstart=function(t){i._startTouchMove(t)},L.DomEvent.on(this.points._container,\"touchstart\",this.touchstart,this),this.touchstartFill=function(t){var e=L.GmxDrawing.utils.getDownType.call(i,t,i._map,this._parent);if(\"edge\"===e.type&&\"Rectangle\"!==i.options.type){var n=i.points._latlngs;n.splice(e.num,0,n[e.num]),i._legLength=[],i._setPoint(e.latlng,e.num,e.type)}},L.DomEvent.on(this.fill._container,\"touchstart\",this.touchstartFill,this)}else this.points.on(\"mousemove\",e).on(\"mousedown\",this._pointDown,this),this.fill.on(\"dblclick click\",e,this).on(\"mousedown\",this._pointDown,this),this._fireEvent(\"editmode\");else this._pointUp(),this.points.off(\"dblclick click\",e,this).off(\"dblclick\",this._pointDblClick,this).off(\"click\",this._pointClick,this),L.Browser.mobile||(this.points.off(\"mousemove\",e).off(\"mousedown\",this._pointDown,this),this.fill.off(\"dblclick click\",e,this).off(\"mousedown\",this._pointDown,this))},_createHandlers:function(t){if(this.points){var e=L.DomEvent.stopPropagation;if(t)this._parent._enableDrag(),this._map.on(\"dblclick\",e).on(\"mousedown\",this._mouseDown,this).on(\"mouseup\",this._mouseUp,this).on(\"mousemove\",this._moseMove,this),this.points.on(\"click\",this._pointClick,this),this._fireEvent(\"addmode\"),this.lineType||this.lines.setStyle({fill:!0});else{this._map&&(this._map.off(\"dblclick\",e).off(\"mouseup\",this._mouseUp,this).off(\"mousemove\",this._moseMove,this),this.points.off(\"click\",this._pointClick,this));var i=this.options.lineStyle||{};this.lineType||i.fill||this.lines.setStyle({fill:!1})}}},setEditMode:function(){return this.options.editable&&(this._editHandlers(!1),this._createHandlers(!1),this._editHandlers(!0),this.mode=\"edit\"),this},setAddMode:function(){return this.options.editable&&(this._editHandlers(!1),this._createHandlers(!1),this._createHandlers(!0),this.mode=\"add\"),this},removeAddMode:function(){this._createHandlers(!1),this.mode=\"\"},removeEditMode:function(){this._editHandlers(!1),this.mode=\"\"},_moseMove:function(t){if(this.points){var e=this.points._latlngs;1===e.length&&this._setPoint(t.latlng,1),this._setPoint(t.latlng,e.length-1)}},_mouseDown:function(){this._lastMouseDownTime=Date.now()+200},_mouseUp:function(t){var e=Date.now();if(t.delta||e<this._lastMouseDownTime){this._lastAddTime=e+1e3;var i=t._latlng||t.latlng;t.delta&&this.addLatLng(i,t.delta),this.addLatLng(i),this._parent._parent._clearCreate()}}}),L.GmxDrawing.PointMarkers=L.Polygon.extend({options:{className:\"leaflet-drawing-points\",smoothFactor:0,opacity:1,shape:\"circle\",fill:!0,fillColor:\"#ffffff\",fillOpacity:1,size:L.Browser.mobile?40:8,weight:2},getPathLatLngs:function(){for(var t,e,i=[],n=this.options.size,o=this._parts[0],s=0,l=o.length;l>s;s++)e=o[s],(0===s||Math.abs(t.x-e.x)>n||Math.abs(t.y-e.y)>n)&&(i.push(this._latlngs[s]),t=e);return i},_getPathPartStr:function(t){for(var e,i,n=L.Path.VML,o=this.options.size/2,s=\"add\"!==this._parent.mode||L.Browser.mobile?0:1,l=\"circle\"===this.options.shape?!0:!1,a=0,r=t.length-s,h=\"\";r>a;a++)if(i=t[a],n&&i._round(),0===a||Math.abs(e.x-i.x)>this.options.size||Math.abs(e.y-i.y)>this.options.size){if(l)h+=\"M\"+i.x+\",\"+(i.y-o)+\" A\"+o+\",\"+o+\",0,1,1,\"+(i.x-.1)+\",\"+(i.y-o)+\" \";else{var p=i.x,g=p-o,d=p+o,c=i.y,u=c-o,f=c+o;h+=\"M\"+g+\" \"+u+\"L\"+d+\" \"+u+\"L\"+d+\" \"+f+\"L\"+g+\" \"+f+\"L\"+g+\" \"+u}e=i}return h},_onMouseClick:function(t){this._fireMouseEvent(t)},_isPathChange:function(){this.projectLatlngs();var t=this.getPathString();return t!==this._pathStr?(this._pathStr=t,!0):!1},_updatePath:function(){this._map&&(this._clipPoints(),this._isPathChange()&&(\"inherit\"!==this._path.getAttribute(\"fill-rule\")&&this._path.setAttribute(\"fill-rule\",\"inherit\"),this._path.setAttribute(\"d\",this._pathStr||\"M0 0\")))}}),L.GmxDrawing.utils={defaultStyles:{mode:\"\",map:!0,editable:!0,holeStyle:{opacity:.5,color:\"#003311\"},lineStyle:{opacity:1,weight:2,noClip:!0,clickable:!1,className:\"leaflet-drawing-lines\",color:\"#0033ff\",dashArray:null,lineCap:null,lineJoin:null,fill:!1,fillColor:null,fillOpacity:.2,smoothFactor:1,stroke:!0},pointStyle:{className:\"leaflet-drawing-points\",noClip:!0,smoothFactor:0,opacity:1,shape:\"circle\",fill:!0,fillColor:\"#ffffff\",fillOpacity:1,size:L.Browser.mobile?40:8,weight:2,clickable:!0,color:\"#0033ff\",dashArray:null,lineCap:null,lineJoin:null,stroke:!0},markerStyle:{mode:\"\",editable:!1,title:\"Text example\",options:{alt:\"\",clickable:!0,draggable:!1,keyboard:!0,opacity:1,zIndexOffset:0,riseOffset:250,riseOnHover:!1,icon:{className:\"\",iconUrl:\"\",iconAnchor:[12,41],iconSize:[25,41],popupAnchor:[1,-34],shadowSize:[41,41]}}}},getNotDefaults:function(t,e){var i={};\r\nfor(var n in t)if(\"icon\"!==n&&\"map\"!==n)if(\"iconAnchor\"===n||\"iconSize\"===n||\"popupAnchor\"===n||\"shadowSize\"===n){if(!e[n])continue;(e[n][0]!==t[n][0]||e[n][1]!==t[n][1])&&(i[n]=t[n])}else\"lineStyle\"===n||\"pointStyle\"===n||\"markerStyle\"===n?i[n]=this.getNotDefaults(t[n],e[n]):e&&e[n]===t[n]&&\"fill\"!==n||(i[n]=t[n]);return i},getShiftLatlng:function(t,e,i){if(i&&e){var n=e.latLngToLayerPoint(t)._add(i);t=e.layerPointToLatLng(n)}return t},getDownType:function(t,e,i){var n=t.layerPoint,o=!1,s=t.latlng;if(t.originalEvent&&t.originalEvent.ctrlKey&&(o=!0),t.touches&&1===t.touches.length){var l=t.touches[0],a=e.mouseEventToContainerPoint(l);n=e.containerPointToLayerPoint(a),s=e.layerPointToLatLng(n)}var r={type:\"\",latlng:s,ctrlKey:o},h=this.points?this:t.ring,p=h.points._originalPoints||[],g=p.length;if(0===g)return r;var d=(h.points.options.size||10)/2;d+=1+(h.points.options.weight||2);var c=new L.Bounds(L.point(n.x-d,n.y-d),L.point(n.x+d,n.y+d)),u=p[g-1],f=g-(\"add\"===h.mode?2:1);r={mode:h.mode,layerPoint:t.layerPoint,ctrlKey:o,latlng:s};for(var _=0;g>_;_++){var m=p[_];if(i.shiftPixel&&(m=p[_].add(i.shiftPixel)),c.contains(m)){r.type=\"node\",r.num=_,r.end=0===_||_===f?!0:!1;break}var y=L.LineUtil.pointToSegmentDistance(n,u,m);d>y&&(r.type=\"edge\",r.num=0===_?g:_),u=m}return r},_getLastObject:function(t){if(t.getLayers){var e=t.getLayers().shift();return e.getLayers?this._getLastObject(e):t}return t},getMarkerByPos:function(t,e){for(var i=0,n=e.length;n>i;i++){var o=e[i],s=o._obj?o._obj:null,l=s&&s._icon?s._icon._leaflet_pos:null;if(l&&l.x===t.x&&l.y===t.y)return s._latlng}return null}};\n\n\n// WEBPACK FOOTER //\n// ./E:/projects/Leaflet.ExtSearch/external/gmxDrawing/dist/gmxDrawing-min.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./external/gmxDrawing/dist/css/gmxDrawing.css\n// module id = 8\n// module chunks = 0","\r\nclass OsmDataProvider {\r\n    constructor({serverBase, limit, onFetch}){\r\n        this._serverBase = serverBase;\r\n        this._onFetch = onFetch;\r\n        this._limit = limit;\r\n        this.showSuggestion = true;\r\n        this.showOnMap = false;\r\n        this.find = this.find.bind(this);\r\n        this.fetch = this.fetch.bind(this);\r\n        this._convertGeometry = this._convertGeometry.bind(this);\r\n\r\n        this._key = window.KOSMOSNIMKI_SESSION_KEY == null || window.KOSMOSNIMKI_SESSION_KEY == 'INVALID' ? '' : `&key=${window.KOSMOSNIMKI_SESSION_KEY}`;\r\n    }\r\n    _convertGeometry(geometry) {        \r\n        switch (geometry.type.toUpperCase()) {\r\n            case 'POINT':\r\n                geometry.type = 'Point';\r\n                break;\r\n            case 'POLYGON':\r\n                geometry.type = 'Polygon';\r\n                break;\r\n            case 'MULTIPOLYGON':\r\n                geometry.type = 'MultiPolygon';\r\n                break;\r\n            case 'LINESTRING':\r\n            case 'POLYLINE':\r\n                geometry.type = 'LineString';\r\n                break;\r\n            case 'MULTILINESTRING':\r\n                geometry.type = 'MultiLineString';\r\n                break;\r\n            default:\r\n                throw 'Unknown WKT type';\r\n        }\r\n        return geometry;\r\n    }\r\n    fetch (obj) {\r\n        const query = `RequestType=ID&ID=${obj.ObjCode}&TypeCode=${obj.TypeCode}&UseOSM=1`;        \r\n        let req = new Request(`${this._serverBase}/SearchObject/SearchAddress.ashx?${query}${this._key}`);\r\n        let headers = new Headers();\r\n        headers.append('Content-Type','application/json');\r\n        let init = {\r\n            method: 'GET',            \r\n            mode: 'cors',\r\n            cache: 'default',\r\n        };\r\n        return new Promise((resolve, reject) => {\r\n            fetch (req, init)\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(text => {\r\n                const json = JSON.parse (text.slice(1, text.length - 1));\r\n                if(json.Status === 'ok'){\r\n                    const rs = json.Result\r\n                    .reduce((a,x) => a.concat(x.SearchResult), [])\r\n                    .map(x => {\r\n                        let g = this._convertGeometry (x.Geometry);\r\n                        let props = Object.keys(x)\r\n                        .filter(k => k !== 'Geometry')\r\n                        .reduce((a,k) => {\r\n                            a[k] = x[k];\r\n                            return a;\r\n                        }, {});\r\n                        return {\r\n                            feature: {\r\n                                type: 'Feature',\r\n                                geometry: g,\r\n                                properties: props,                            \r\n                            },\r\n                            provider: this,\r\n                            query: obj,\r\n                        };\r\n                    });\r\n                    if (typeof this._onFetch === 'function'){\r\n                        this._onFetch(rs);\r\n                    }                \r\n                    resolve(rs);\r\n                }\r\n                else {\r\n                    reject(json);\r\n                }                \r\n            });\r\n        });\r\n    }\r\n    find(value){        \r\n        const query = `RequestType=SearchObject&IsStrongSearch=0&WithoutGeometry=1&UseOSM=1&Limit=${this._limit}&SearchString=${encodeURIComponent(value)}`;        \r\n        let req = new Request(`${this._serverBase}/SearchObject/SearchAddress.ashx?${query}${this._key}`);\r\n        let headers = new Headers();\r\n        headers.append('Content-Type','application/json');\r\n        let init = {\r\n            method: 'GET',            \r\n            mode: 'cors',\r\n            cache: 'default',\r\n        };\r\n        return new Promise((resolve, reject) => {\r\n            fetch (req, init)\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(text => {\r\n                const json = JSON.parse (text.slice(1, text.length - 1));\r\n                if(json.Status === 'ok'){\r\n                    const rs = \r\n                        json.Result\r\n                        .reduce((a,x) => a.concat(x.SearchResult), [])\r\n                        .map(x => {\r\n                            return {\r\n                                name: x.ObjNameShort,\r\n                                properties: x,\r\n                                provider: this,\r\n                                query: value,\r\n                            };\r\n                        });                 \r\n                    resolve(rs);\r\n                }\r\n                else {\r\n                    reject(json);\r\n                }                \r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nwindow.nsGmx = window.nsGmx || {};\r\nwindow.nsGmx.OsmDataProvider = OsmDataProvider;\r\n\r\nexport { OsmDataProvider };\n\n\n// WEBPACK FOOTER //\n// ./E:/projects/Leaflet.ExtSearch/src/OsmDataProvider.js","\r\nclass CoordinatesDataProvider {\r\n    constructor({onFetch}){\r\n        this._onFetch = onFetch;\r\n        this.showSuggestion = false;\r\n        this.showOnMap = true;\r\n        this.fetch = this.fetch.bind(this);\r\n        this.find = this.find.bind(this);\r\n        this.rxLat = new RegExp('(\\\\d+\\\\.?\\\\d+)\\\\s*(N|S)');\r\n        this.rxLng = new RegExp('(\\\\d+\\\\.?\\\\d+)\\\\s*(E|W)');\r\n    }\r\n    _parseCoordinates(value) {\r\n        let coords = value.split(/(,|\\\\s+)/)\r\n        .reduce((a,x) => {\r\n            const lat = this.rxLat.exec(x);\r\n            if(lat && lat.length) {\r\n                a.lat = parseFloat(lat[1]);\r\n                if (lat[2] == 'S'){\r\n                    a.lat = -a.lat;\r\n                }\r\n            }\r\n            const lng = this.rxLng.exec(x);\r\n            if(lng && lng.length) {\r\n                a.lng = parseFloat(lng[1]);\r\n                if (lng[2] == 'W'){\r\n                    a.lng = -a.lng;\r\n                }\r\n            }\r\n            return a;\r\n        },{});\r\n        if (coords.hasOwnProperty('lat') && coords.hasOwnProperty('lng')){\r\n            return {type: 'Point', coordinates: [coords.lng, coords.lat]};\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    fetch (value){\r\n        let g = this._parseCoordinates(value);        \r\n        return new Promise(resolve => {\r\n            let result = {feature: { type: 'Feature', geometry: g, properties: {} }, provider: this, query: value};\r\n            if (typeof this._onFetch === 'function'){\r\n                this._onFetch(result);\r\n            }             \r\n            resolve(g ? [result] : []);\r\n        });\r\n    }\r\n    find (value){\r\n        return new Promise(resolve => resolve([]));\r\n    }\r\n}\r\n\r\nwindow.nsGmx = window.nsGmx || {};\r\nwindow.nsGmx.CoordinatesDataProvider = CoordinatesDataProvider;\r\n\r\nexport { CoordinatesDataProvider };\n\n\n// WEBPACK FOOTER //\n// ./E:/projects/Leaflet.ExtSearch/src/CoordinatesDataProvider.js","class CadastreDataProvider {\r\n    constructor({serverBase, limit, tolerance, onFetch}){\r\n        this._serverBase = serverBase;\r\n        this._limit = limit;\r\n        this._tolerance = tolerance;\r\n        this._onFetch = onFetch;\r\n        this.showSuggestion = true;\r\n        this.showOnMap = false;\r\n        this._cadastreLayers = [\r\n\t\t\t{id: 5, title: 'ОКС', \t\treg: /^\\d\\d:\\d+:\\d+:\\d+:\\d+$/},\r\n\t\t\t{id: 1, title: 'Участок', \treg: /^\\d\\d:\\d+:\\d+:\\d+$/},\r\n\t\t\t{id: 2, title: 'Квартал',\treg: /^\\d\\d:\\d+:\\d+$/},\r\n\t\t\t{id: 3, title: 'Район', \treg: /^\\d\\d:\\d+$/},\r\n\t\t\t{id: 4, title: 'Округ', \treg: /^\\d\\d$/},\r\n\t\t\t{id: 10, title: 'ЗОУИТ', \treg: /^\\d+\\.\\d+\\.\\d+/}\r\n\t\t\t// ,\r\n\t\t\t// {id: 7, title: 'Границы', \treg: /^\\w+$/},\r\n\t\t\t// {id: 6, title: 'Тер.зоны', \treg: /^\\w+$/},\r\n\t\t\t// {id: 12, title: 'Лес', \t\treg: /^\\w+$/},\r\n\t\t\t// {id: 13, title: 'Красные линии', \t\treg: /^\\w+$/},\r\n\t\t\t// {id: 15, title: 'СРЗУ', \treg: /^\\w+$/},\r\n\t\t\t// {id: 16, title: 'ОЭЗ', \t\treg: /^\\w+$/},\r\n\t\t\t// {id: 9, title: 'ГОК', \t\treg: /^\\w+$/},\r\n\t\t\t// {id: 10, title: 'ЗОУИТ', \treg: /^\\w+$/}\r\n\t\t\t// /[^\\d\\:]/g,\r\n\t\t\t// /\\d\\d:\\d+$/,\r\n\t\t\t// /\\d\\d:\\d+:\\d+$/,\r\n\t\t\t// /\\d\\d:\\d+:\\d+:\\d+$/\r\n\t\t];\r\n    }    \r\n    getCadastreLayer (str, type) {\r\n        str = str.trim();\r\n        for (var i = 0, len = this._cadastreLayers.length; i < len; i++) {\r\n            var it = this._cadastreLayers[i];\r\n            if (it.id === type) { return it; }\r\n            if (it.reg.exec(str)) { return it; }\r\n        }\r\n        return null;\r\n    }\r\n    find(text) {        \r\n        return new Promise(resolve => {\r\n            let req = new Request(`${this._serverBase}/typeahead?limit=${this._limit}&skip=0&text=${text}`);\r\n            let headers = new Headers();\r\n            headers.append('Content-Type','application/json');\r\n            let init = {\r\n                method: 'GET',            \r\n                mode: 'cors',\r\n                cache: 'default',\r\n            };\r\n            fetch (req, init)\r\n            .then(response => response.text())\r\n            .then(response => {\r\n                const json = JSON.parse (response); \r\n                if(json.status === 200){\r\n                    let rs = json.results.map(x => {\r\n                        return {\r\n                            name: x.title,\r\n                            properties: x,\r\n                            provider: this,\r\n                            query: text,\r\n                        };\r\n                    });\r\n                    resolve(rs);\r\n                }\r\n                else {\r\n                    resolve(json);\r\n                }                                       \r\n                                    \r\n            });\r\n        });\r\n    }\r\n    fetch(obj) {        \r\n        const cadastreLayer = this.getCadastreLayer(obj.value);\r\n        return new Promise(resolve => {\r\n            if(cadastreLayer) {\r\n                let req = new Request(`${this._serverBase}/features/${cadastreLayer.id}?tolerance=${this._tolerance}&limit=${this._limit}&text=${obj.value}`);\r\n                let headers = new Headers();\r\n                headers.append('Content-Type','application/json');\r\n                let init = {\r\n                    method: 'GET',            \r\n                    mode: 'cors',\r\n                    cache: 'default',\r\n                };\r\n                fetch (req, init)\r\n                .then(response => response.text())\r\n                .then(response => {\r\n                    const json = JSON.parse (response);\r\n                    if(json.status === 200){\r\n                        if (typeof this._onFetch === 'function'){\r\n                            this._onFetch(json);\r\n                        }\r\n                        let rs = json.features.map(x => {\r\n                            return {\r\n                                name: x.attrs.name,\r\n                                properties: x,\r\n                                provider: this,\r\n                                query: obj,\r\n                            };\r\n                            \r\n                        });\r\n                        resolve(rs);\r\n\r\n                    }\r\n                    else {\r\n                        resolve(json);\r\n                    }\r\n                    \r\n                    \r\n                });\r\n            }\r\n            else {\r\n                resolve([]);\r\n            }            \r\n        });\r\n    }\r\n}\r\n\r\nwindow.nsGmx = window.nsGmx || {};\r\nwindow.nsGmx.CadastreDataProvider = CadastreDataProvider;\r\n\r\nexport { CadastreDataProvider };\n\n\n// WEBPACK FOOTER //\n// ./E:/projects/Leaflet.ExtSearch/src/CadastreDataProvider.js"],"sourceRoot":""}