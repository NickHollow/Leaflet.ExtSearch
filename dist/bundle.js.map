{"version":3,"sources":["webpack:///webpack/bootstrap b2311cbd73040977d04d","webpack:///./E:/projects/Leaflet.ExtSearch/src/SearchControl.js","webpack:///./src/SearchControl.css","webpack:///./E:/projects/Leaflet.ExtSearch/src/ResultView.js","webpack:///./E:/projects/Leaflet.ExtSearch/src/GmxRenderer.js","webpack:///./E:/projects/Leaflet.ExtSearch/external/gmxDrawing/dist/gmxDrawing-min.js","webpack:///./external/gmxDrawing/dist/css/gmxDrawing.css","webpack:///./E:/projects/Leaflet.ExtSearch/src/OsmDataProvider.js","webpack:///./E:/projects/Leaflet.ExtSearch/src/CoordinatesDataProvider.js","webpack:///./E:/projects/Leaflet.ExtSearch/src/CadastreDataProvider.js"],"names":["SearchControl","L","Control","extend","includes","Mixin","Events","initialize","options","setOptions","_chain","tasks","state","reduce","prev","next","then","Promise","resolve","reject","_handleChange","e","text","_input","value","length","providers","map","showFirst","completed","p","provider","showSuggestion","find","limit","fetch","response","concat","features","filter","x","showOnMap","feature","_renderer","render","style","entries","results","show","_handleMouseMove","stopPropagation","_search","showOnSelect","_selectItem","item","properties","onAdd","_container","DomUtil","create","innerHTML","placeHolder","querySelector","addEventListener","bind","input","onSelect","onSearch","renderer","window","nsGmx","ResultView","_onSelect","_onSearch","index","count","_item","_inputText","_list","setAttribute","top","offsetTop","offsetHeight","left","offsetLeft","_handleKey","_handleWheel","parentElement","appendChild","listVisible","key","preventDefault","el","removeClass","addClass","selectItem","focus","setSelectionRange","hide","complete","display","i","_items","name","items","html","join","elements","querySelectorAll","_handleClick","GmxRenderer","_map","_gmxDrawing","GmxDrawing","json","a","geojson","geoJson","lineStyle","onEachFeature","layer","add","addData","geometry","bounds","getBounds","fitBounds","invalidateSize","t","Class","type","current","gmxUtil","prettifyDistance","document","createElementNS","Path","SVG_NS","setAttributeNS","n","o","testProp","hideTooltip","showTooltip","s","l","y","textContent","getAttributeNS","_pathRoot","getComputedTextLength","_drawMode","mode","on","bringToFront","addGeoJSON","GeoJSON","getLayers","setStyle","_originalStyle","push","r","layerGroup","eachLayer","Feature","editable","Rectangle","Polygon","MultiPolygon","Polyline","MultiPolyline","Marker","draggable","_chkDrawOptions","markerStyle","iconStyle","pointToLayer","icon","addLayer","_addItem","setEditMode","_disableDrag","dragging","disable","disableTextSelection","disableImageDrag","doubleClickZoom","removeHooks","_enableDrag","enable","enableTextSelection","enableImageDrag","addHooks","_clearCreate","_createKey","Browser","mobile","DomEvent","off","fn","eventName","utils","defaultStyles","pointStyle","holeStyle","iconUrl","iconAnchor","iconSize","popupAnchor","shadowSize","_initPathRoot","_createType","latlng","h","originalEvent","ctrlKey","shiftKey","altKey","marker","rectangle","latLngBounds","latLng","lat","lng","_startTouchMove","_pointDown","rings","ring","_drawstop","polygon","setAddMode","polyline","_mapPane","fire","extendDefaultStyles","getFeatures","loadState","featureCollection","popupOpened","getLatLng","openPopup","saveState","featureGroup","toGeoJSON","getNotDefaults","hasLayer","getPopup","_obj","Object","keys","version","object","_removeItem","splice","clear","removeLayer","remove","Map","addInitHook","gmxDrawing","ContextMenu","PointMarkers","include","LayerGroup","simplify","setLatLngs","points","getPathLatLngs","holes","invoke","bringToBack","prototype","call","_parent","setTimeout","_fireEvent","onRemove","hole","getStyle","_drawOptions","_setStyleOptions","enableEdit","disableEdit","redraw","_setLinesStyle","_setPointsStyle","getOptions","_latLngsToCoords","latLngsToCoords","_latlngsAddShift","getShiftLatlng","getPixelOffset","shiftPixel","tileSizes","_zoom","Point","Math","floor","_dx","_dy","setOffsetToGeometry","getLatLngs","setPositionOffset","_getCoords","_toGeoJSON","_getLastObject","getFeature","coordinates","getType","hideFill","_fill","showFill","geometryToLayer","weight","clearLayers","fill","fillColor","LatLngBounds","_getBounds","_layers","_initialize","removeEditMode","getArea","geoJSONGetArea","getLength","geoJSONGetLength","getSummary","distanceUnit","prettifyArea","squareUnit","formatCoordinates","Ring","_latlngs","_holes","_showTooltip","g","gmxLocale","getText","d","buttons","button","downObject","layerPoint","getDownType","c","num","u","_setMarker","bindPopup","maxWidth","closeOnClick","maxPopupCount","popup","_contentNode","title","width","split","cols","forEach","rows","update","_popup","setLatLng","_latlng","delta","addTo","_isOpen","className","opacity","shape","fillOpacity","size","_activeZIndex","activeZIndex","_notActiveZIndex","notActiveZIndex","_coords","_legLength","lines","lineType","indexOf","noClip","clickable","addLatLng","_pointUp","removeAddMode","distVincenty","_setPoint","equals","setPosition","ie","gtIE11","_draggable","_onUp","_onDragStart","which","_lastDownTime","Date","now","down","disableAddPoints","_pointMove","_clearLineAddPoint","_moved","target","_leaflet_pos","test","getMarkerByPos","_skipClick","_lastPointClickTime","_removePoint","_lineAddPointID","clearTimeout","_pointDblClick","_lastAddTime","_pointClick","end","reverse","_onDragEnd","_onDrag","_dragstartPoint","touches","_editHandlers","touchstart","touchstartFill","_EditOpacity","_createHandlers","_mouseDown","_mouseUp","_moseMove","_lastMouseDownTime","smoothFactor","_parts","abs","_getPathPartStr","VML","_round","f","_onMouseClick","_fireMouseEvent","_isPathChange","projectLatlngs","getPathString","_pathStr","_updatePath","_clipPoints","_path","getAttribute","color","dashArray","lineCap","lineJoin","stroke","alt","keyboard","zIndexOffset","riseOffset","riseOnHover","latLngToLayerPoint","_add","layerPointToLatLng","mouseEventToContainerPoint","containerPointToLayerPoint","_originalPoints","Bounds","point","_","m","contains","LineUtil","pointToSegmentDistance","shift","_icon","OsmDataProvider","serverBase","onFetch","_serverBase","_onFetch","_convertGeometry","_key","KOSMOSNIMKI_SESSION_KEY","toUpperCase","obj","query","ObjCode","TypeCode","req","Request","headers","Headers","append","init","method","cache","JSON","parse","slice","Status","rs","Result","SearchResult","Geometry","props","k","strong","retrieveGeometry","_strong","Boolean","_withoutGeometry","encodeURIComponent","ObjNameShort","CoordinatesDataProvider","rxLat","RegExp","rxLng","coords","exec","parseFloat","hasOwnProperty","_parseCoordinates","result","CadastreDataProvider","tolerance","_tolerance","_cadastreLayers","id","reg","str","trim","len","it","status","cadastreLayer","getCadastreLayer","attrs"],"mappings":"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","file":"./dist/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b2311cbd73040977d04d","import './SearchControl.css';\r\nimport { ResultView } from './ResultView.js';\r\nimport { GmxRenderer } from './GmxRenderer.js';\r\nimport { OsmDataProvider } from './OsmDataProvider.js';\r\nimport { CoordinatesDataProvider } from './CoordinatesDataProvider.js';\r\nimport { CadastreDataProvider } from './CadastreDataProvider.js';\r\n\r\nlet SearchControl = L.Control.extend({\r\n    includes: [L.Mixin.Events],\r\n    initialize: function(options) {    \r\n        L.setOptions(this, options);\r\n    },\r\n    _chain (tasks, state) {        \r\n        return tasks.reduce(\r\n            (prev, next) => prev.then(next),\r\n            new Promise ((resolve, reject) => resolve (state))\r\n        );\r\n    },\r\n    _handleChange: function(e){\r\n        const text = this._input.value;\r\n        if(text.length){\r\n\r\n            let tasks = this.options.providers.map(provider => {\r\n                return state => {\r\n                    return new Promise(resolve => {\r\n                        if (this.options.showFirst && state.completed) {\r\n                            resolve(state);\r\n                        }\r\n                        else {\r\n                            let p = provider.showSuggestion ? provider.find (text, this.options.limit, false, false) : provider.fetch (text);\r\n                            p.then(response => {\r\n                                state.completed = this.options.showFirst && response.length;\r\n                                state.response = state.response.concat(response);                                \r\n                                resolve(state);\r\n                            });\r\n                        }\r\n                    });\r\n                };\r\n            });\r\n\r\n            this._chain (tasks, {completed: false, response: []})\r\n            .then(state => {\r\n                const features = state.response.filter(x => x.provider.showOnMap).map(x => x.feature);\r\n                this._renderer.render(features, this.options.style);                \r\n\r\n                if(features.length == 0){\r\n                    const entries = state.response.filter(x => x.provider.showSuggestion);\r\n                    this.results.show(entries);\r\n                }\r\n            });            \r\n        }        \r\n    },\r\n    _handleMouseMove: function(e){\r\n        e.stopPropagation();\r\n    },\r\n    _search: function (text) {\r\n        let tasks = this.options.providers\r\n            .filter (provider => provider.showOnSelect)\r\n            .map(provider => {\r\n                return state => {\r\n                    return new Promise(resolve => {\r\n                        if (this.options.showFirst && state.completed) {\r\n                            resolve(state);\r\n                        }\r\n                        else {\r\n                            let p = provider.find (text, 1, true, true);\r\n                            p.then(response => {\r\n                                state.completed = response.length;\r\n                                state.response = state.response.concat(response);                                \r\n                                resolve(state);\r\n                            });\r\n                        }\r\n                    });\r\n                };\r\n            });\r\n\r\n            this._chain (tasks, {completed: false, response: []})\r\n            .then(state => {\r\n                const features = state.response.map(x => x.feature);\r\n                if(features.length) {\r\n                    this._renderer.render([features[0]], this.options.style);\r\n                }\r\n                \r\n            });\r\n    },\r\n    _selectItem: function(item){        \r\n        item.provider\r\n        .fetch(item.properties)\r\n        .then(response => {\r\n            if (item.provider.showOnSelect && response.length) {\r\n                let features = response.map (x => x.feature);\r\n                this._renderer.render(features, this.options.style);                \r\n            }            \r\n        });\r\n    },\r\n    onAdd: function(map) {\r\n        this._container = L.DomUtil.create('div', 'leaflet-ext-search');\r\n        this._container.innerHTML = `<input type=\"text\" value=\"\" placeholder=\"${this.options.placeHolder}\" />`;\r\n        this._input = this._container.querySelector('input');\r\n\r\n        // const style = getComputedStyle (map._container);\r\n        // const matches = (/\\d+/g).exec (style.width);\r\n        // if(matches && matches.length){\r\n        //     const width = Number.parseInt (matches[0]) - 50;\r\n        //     this._input.style.width = `${width}px`;\r\n        // }\r\n              \r\n        this._input.addEventListener('input', this._handleChange.bind(this));\r\n        this._input.addEventListener('mousemove', this._handleMouseMove.bind(this));\r\n\r\n        this.results = new ResultView({\r\n            input: this._input,\r\n            onSelect: this._selectItem.bind(this),\r\n            onSearch: this._search.bind(this),\r\n        });        \r\n\r\n        this._renderer = this.options.renderer || new GmxRenderer(map);\r\n\r\n        return this._container;\r\n    }\r\n});\r\n\r\nwindow.nsGmx = window.nsGmx || {};\r\nwindow.nsGmx.SearchControl = SearchControl; \r\n\r\nexport { SearchControl };\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/projects/Leaflet.ExtSearch/src/SearchControl.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/SearchControl.css\n// module id = 1\n// module chunks = 0","class ResultView {\r\n    constructor({input, onSelect, onSearch}){\r\n        this._input = input;\r\n        this._onSelect = onSelect;\r\n        this._onSearch = onSearch;\r\n        this.index = -1;\r\n        this.count = 0;\r\n        this._item = null;\r\n        this._inputText = '';\r\n        this._list = L.DomUtil.create('div');\r\n        this._list.setAttribute('class', 'leaflet-ext-search-list noselect');        \r\n\r\n        this._list.style.top = `${this._input.offsetTop + this._input.offsetHeight + 2}px`;\r\n        this._list.style.left = `${this._input.offsetLeft}px`;\r\n        this._input.addEventListener('keydown', this._handleKey.bind(this));\r\n        this._list.addEventListener('keydown', this._handleKey.bind(this));\r\n        this._list.addEventListener('wheel', this._handleWheel.bind(this));\r\n        // this._list.addEventListener('mousemove', this._handleWheel.bind(this));\r\n        this._input.parentElement.appendChild(this._list); \r\n        this._input.addEventListener('input', this._handleChange.bind(this));      \r\n    }   \r\n\r\n    _handleChange(e){\r\n        this._inputText = this._input.value;\r\n    }\r\n\r\n    _handleWheel (e) {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    _handleMouseMove(e){\r\n        e.stopPropagation();\r\n    }\r\n\r\n    _handleKey(e){\r\n        if(this.listVisible()) {\r\n            if(e.key === 'ArrowDown'){            \r\n                e.preventDefault();                 \r\n                if (this.index < 0){\r\n                    this.index = 0;\r\n                }\r\n                else if (0 <= this.index && this.index < this.count - 1){\r\n                    let el = this._list.querySelector(`[tabindex=\"${this.index}\"]`);\r\n                    L.DomUtil.removeClass (el, 'leaflet-ext-search-list-selected');\r\n                    ++this.index;\r\n                }   \r\n                else {\r\n                    let el = this._list.querySelector(`[tabindex=\"${this.index}\"]`);\r\n                    L.DomUtil.removeClass (el, 'leaflet-ext-search-list-selected');\r\n                    this.index = this.count - 1;\r\n                }\r\n                let el = this._list.querySelector(`[tabindex=\"${this.index}\"]`);\r\n                L.DomUtil.addClass (el, 'leaflet-ext-search-list-selected'); \r\n                this.selectItem(this.index);\r\n                el.focus();          \r\n            }\r\n            else if (e.key === 'ArrowUp'){\r\n                e.preventDefault();            \r\n                if(this.index > 0){\r\n                    let el = this._list.querySelector(`[tabindex=\"${this.index}\"]`); \r\n                    L.DomUtil.removeClass (el, 'leaflet-ext-search-list-selected');\r\n                    --this.index;\r\n                    el = this._list.querySelector(`[tabindex=\"${this.index}\"]`);\r\n                    L.DomUtil.addClass (el, 'leaflet-ext-search-list-selected');\r\n                    this.selectItem(this.index);\r\n                    el.focus();            \r\n                }\r\n                else if (this.index === 0) {\r\n                    let el = this._list.querySelector(`[tabindex=\"${this.index}\"]`); \r\n                    L.DomUtil.removeClass (el, 'leaflet-ext-search-list-selected');\r\n                    this.index = -1;\r\n                    this._input.focus();                \r\n                    this._input.value = this._inputText;\r\n                    this._item = null;\r\n                }            \r\n            }\r\n            else if (e.key === 'Enter'){\r\n                if (this.index < 0 && this._input.value && typeof this._onSearch == 'function'){\r\n                    const text = this._input.value;\r\n                    this.index = -1;\r\n                    this._item = null;\r\n                    this._input.focus();\r\n                    this._input.setSelectionRange(text.length, text.length);                                      \r\n                    this.hide();                        \r\n                    this._onSearch (text);\r\n                }\r\n                else {\r\n                    this.complete (this.index);\r\n                }                \r\n            }\r\n            else if (e.key === 'Escape'){\r\n                if(this.index >= 0) {\r\n                    let el = this._list.querySelector(`[tabindex=\"${this.index}\"]`); \r\n                    L.DomUtil.removeClass (el, 'leaflet-ext-search-list-selected');\r\n                }                \r\n                this.index = -1;\r\n                this._input.focus();                \r\n                this._input.value = this._inputText;\r\n                this._item = null;\r\n            } \r\n        }\r\n        else {\r\n            if (e.key === 'Enter' && this._input.value && typeof this._onSearch == 'function'){ \r\n                const text = this._input.value;\r\n                this._input.setSelectionRange(text.length, text.length);\r\n                this._onSearch (text);\r\n            }\r\n            else if (e.key === 'Escape'){\r\n                this._input.value = '';\r\n                this.index = -1;\r\n                this._input.focus();\r\n                this.hide();\r\n            }\r\n        }                                                     \r\n    }\r\n\r\n    listVisible(){\r\n        return this.count > 0 && this._list.style.display !== 'none';\r\n    }\r\n\r\n    selectItem(i){        \r\n        this._item = this._items[i];        \r\n        const text = this._item.name;\r\n        this._input.value = text;\r\n        this._input.setSelectionRange(text.length, text.length);        \r\n    }\r\n\r\n    _handleClick (i, e){\r\n        e.preventDefault();\r\n        this.complete (i);\r\n    }\r\n\r\n    complete(i){\r\n        let item = i >= 0 ? this._items[i] : this._item ? this._item : null;\r\n        if(item) {\r\n            this._item = item;        \r\n            this.index = -1;            \r\n            const text = item.name;\r\n            this._input.value = text;\r\n            this._input.setSelectionRange(text.length, text.length);                          \r\n            this._input.focus();\r\n            this.hide();\r\n            if(typeof this._onSelect === 'function'){\r\n                this._onSelect (item);\r\n            }\r\n        }        \r\n    }\r\n\r\n    show(items) {\r\n        this._item = null;\r\n        this.index = -1;\r\n        this._items = items;\r\n        const html = '<ul>' + this._items.map((x,i) => `<li tabindex=${i}>${x.name}</li>`, []).join('') + '</ul>';                            \r\n\r\n        this._list.innerHTML = html;\r\n        let elements = this._list.querySelectorAll('li');\r\n        for (let i = 0; i < elements.length; ++i){\r\n            elements[i].addEventListener('click', this._handleClick.bind(this, i));            \r\n        }\r\n        \r\n        this.count = elements.length;\r\n        this._list.style.display = 'block';\r\n    }\r\n    hide() {        \r\n        this._list.style.display = 'none';                \r\n    }\r\n\r\n}\r\n\r\nexport { ResultView };\n\n\n// WEBPACK FOOTER //\n// ./E:/projects/Leaflet.ExtSearch/src/ResultView.js","import '../external/gmxDrawing/dist/gmxDrawing-min.js';\r\nimport '../external/gmxDrawing/dist/css/gmxDrawing.css';\r\n\r\nclass GmxRenderer {\r\n    constructor(map){\r\n        this._map = map;\r\n        this._gmxDrawing = new L.GmxDrawing ();\r\n        this._gmxDrawing.initialize(map);        \r\n    }\r\n    render(features, style){\r\n        if(features && features.length){\r\n            let json = features\r\n            .reduce ((a, geojson) => {                \r\n                L.geoJson (geojson, {\r\n                    style: function (feature) {\r\n                        return style.lineStyle;\r\n                    },\r\n                    onEachFeature: function (feature, layer) {\r\n                        this._gmxDrawing.add(layer, style);\r\n                    }.bind(this)\r\n                });\r\n                a.addData(geojson.geometry);\r\n                return a;\r\n            }, L.geoJson());\r\n            let bounds = json.getBounds();\r\n            this._map.fitBounds(bounds);\r\n            this._map.invalidateSize();\r\n        }\r\n    }\r\n}\r\n\r\nexport { GmxRenderer };\n\n\n// WEBPACK FOOTER //\n// ./E:/projects/Leaflet.ExtSearch/src/GmxRenderer.js","!function(){var t=1e-7,e=\"1.0.0\";L.GmxDrawing=L.Class.extend({options:{type:\"\"},includes:L.Mixin.Events,initialize:function(t){if(this._map=t,this.items=[],this.current=null,L.gmxUtil&&L.gmxUtil.prettifyDistance){var e=document.createElementNS(L.Path.SVG_NS,\"g\");L.DomUtil.addClass(e,\"gmxTooltip\");var i=document.createElementNS(L.Path.SVG_NS,\"rect\");i.setAttributeNS(null,\"rx\",4),i.setAttributeNS(null,\"ry\",4),i.setAttributeNS(null,\"height\",16),L.DomUtil.addClass(i,\"gmxTooltipBG\");var n=document.createElementNS(L.Path.SVG_NS,\"text\"),o=L.DomUtil.testProp([\"userSelect\",\"WebkitUserSelect\",\"OUserSelect\",\"MozUserSelect\",\"msUserSelect\"]);n.style[o]=\"none\",e.appendChild(i),e.appendChild(n),this.hideTooltip=function(){e.setAttributeNS(null,\"visibility\",\"hidden\")},this.showTooltip=function(t,o){var s=t.x+11,l=t.y-14;n.setAttributeNS(null,\"x\",s),n.setAttributeNS(null,\"y\",l),n.textContent=o,\"visible\"!==e.getAttributeNS(null,\"visibility\")&&(this._map._pathRoot.appendChild(e),e.setAttributeNS(null,\"visibility\",\"visible\"));var a=n.getComputedTextLength();i.setAttributeNS(null,\"width\",a+8),i.setAttributeNS(null,\"x\",s-4),i.setAttributeNS(null,\"y\",l-12)}}var s=function(t){this._drawMode=t.mode};this.on(\"drawstop drawstart\",s)},bringToFront:function(){for(var t=0,e=this.items.length;e>t;t++){var i=this.items[t];i._map&&\"bringToFront\"in i&&i.bringToFront()}},addGeoJSON:function(t,e){var i=[],n=t instanceof L.GeoJSON;if(n||(t=L.geoJson(t,e)),t instanceof L.GeoJSON){var o=t.getLayers();if(o)for(var s=function(t){var n=null;if(t.setStyle&&e&&e.lineStyle){n={};for(var o in e.lineStyle)n[o]=e.lineStyle[o];t.setStyle(e.lineStyle)}var s=this.add(t,e);s._originalStyle=n,i.push(s)},l=0,a=o.length;a>l;l++){var r=o[l];\"GeometryCollection\"!==r.feature.geometry.type&&(r=L.layerGroup([r])),r.eachLayer(s,this)}}return i},add:function(t,e){var i=null;if(t){if(t instanceof L.GmxDrawing.Feature)i=t;else{var n={};if(e&&\"editable\"in e||(n.editable=!0),t.geometry?n.type=t.geometry.type:t instanceof L.Rectangle?n.type=\"Rectangle\":t instanceof L.Polygon?n.type=\"Polygon\":t instanceof L.MultiPolygon?n.type=\"MultiPolygon\":t instanceof L.Polyline?n.type=\"Polyline\":t instanceof L.MultiPolyline?n.type=\"MultiPolyline\":t instanceof L.Marker&&(n.type=\"Point\",n.editable=!1,t.options.draggable=!0),e=this._chkDrawOptions(n.type,e),L.extend(e,n),t.geometry){var o=e.markerStyle&&e.markerStyle.iconStyle;return\"Point\"===e.type&&!e.pointToLayer&&o&&(e.icon=L.icon(o),e.pointToLayer=function(t,i){return new L.Marker(i,e)}),this.addGeoJSON(t,e)}i=new L.GmxDrawing.Feature(this,t,e)}\"map\"in e||(e.map=!0),e.map&&!i._map?this._map.addLayer(i):this._addItem(i),\"setEditMode\"in i&&i.setEditMode()}return i},_disableDrag:function(){this._map.dragging.disable(),L.DomUtil.disableTextSelection(),L.DomUtil.disableImageDrag(),this._map.doubleClickZoom.removeHooks()},_enableDrag:function(){this._map.dragging.enable(),L.DomUtil.enableTextSelection(),L.DomUtil.enableImageDrag(),this._map.doubleClickZoom.addHooks()},_clearCreate:function(){this._createKey&&(\"Rectangle\"===this._createKey.type&&L.Browser.mobile?L.DomEvent.off(this._map._container,\"touchstart\",this._createKey.fn,this):this._map.off(this._createKey.eventName,this._createKey.fn,this),this._enableDrag()),this._createKey=null},_chkDrawOptions:function(t,e){var i=L.GmxDrawing.utils.defaultStyles,n={};if(e||(e=L.extend({},i)),\"Point\"===t?L.extend(n,i.markerStyle.options.icon,e):(L.extend(n,e),n.lineStyle=L.extend({},i.lineStyle,e.lineStyle),n.pointStyle=L.extend({},i.pointStyle,e.pointStyle),n.holeStyle=L.extend({},i.holeStyle,e.holeStyle)),n.iconUrl){var o={iconUrl:n.iconUrl};delete n.iconUrl,n.iconAnchor&&(o.iconAnchor=n.iconAnchor,delete n.iconAnchor),n.iconSize&&(o.iconSize=n.iconSize,delete n.iconSize),n.popupAnchor&&(o.popupAnchor=n.popupAnchor,delete n.popupAnchor),n.shadowSize&&(o.shadowSize=n.shadowSize,delete n.shadowSize),n.markerStyle={iconStyle:o}}return n},create:function(e,i){if(this._clearCreate(null),e){var n=this._map,o=this._chkDrawOptions(e,i),s=this;\"Rectangle\"===e&&(n._initPathRoot(),n.dragging.disable()),this._createKey={type:e,eventName:\"Rectangle\"===e?L.Browser.mobile?\"touchstart\":\"mousedown\":\"click\",fn:function(i){s._createType=\"\";var n,l,a={},r=i.latlng;for(l in o)l in L.GmxDrawing.utils.defaultStyles||(a[l]=o[l]);if(\"Point\"===e){var h=o.markerStyle||{},p={draggable:!0};i&&i.originalEvent&&(p.ctrlKey=i.originalEvent.ctrlKey,p.shiftKey=i.originalEvent.shiftKey,p.altKey=i.originalEvent.altKey),h.iconStyle&&(p.icon=L.icon(h.iconStyle)),n=s.add(L.marker(r,p),a)}else o.pointStyle&&(a.pointStyle=o.pointStyle),o.lineStyle&&(a.lineStyle=o.lineStyle),\"Rectangle\"===e?(a.mode=\"edit\",n=s.add(L.rectangle(L.latLngBounds(L.latLng(r.lat+t,r.lng-t),r)),a),L.Browser.mobile?n._startTouchMove(i,!0):n._pointDown(i),n.rings[0].ring._drawstop=!0):\"Polygon\"===e?(a.mode=\"add\",n=s.add(L.polygon([r]),a),n.setAddMode()):\"Polyline\"===e&&(a.mode=\"add\",n=s.add(L.polyline([r]),a).setAddMode());s._clearCreate()}},\"Rectangle\"===e&&L.Browser.mobile?L.DomEvent.on(n._container,\"touchstart\",this._createKey.fn,this):n.on(this._createKey.eventName,this._createKey.fn,this),this._createType=e,L.DomUtil.addClass(n._mapPane,\"leaflet-clickable\"),this.fire(\"drawstart\",{mode:e})}this.options.type=e},extendDefaultStyles:function(t){var e=L.GmxDrawing.utils.defaultStyles;if(t=t||{},t.iconUrl){var i=e.markerStyle.options.icon;i.iconUrl=t.iconUrl,delete t.iconUrl,t.iconAnchor&&(i.iconAnchor=t.iconAnchor,delete t.iconAnchor),t.iconSize&&(i.iconSize=t.iconSize,delete t.iconSize),t.popupAnchor&&(i.popupAnchor=t.popupAnchor,delete t.popupAnchor),t.shadowSize&&(i.shadowSize=t.shadowSize,delete t.shadowSize)}return t.lineStyle&&(L.extend(e.lineStyle,t.lineStyle),delete t.lineStyle),t.pointStyle&&(L.extend(e.pointStyle,t.pointStyle),delete t.pointStyle),t.holeStyle&&(L.extend(e.holeStyle,t.holeStyle),delete t.holeStyle),L.extend(e,t),this},getFeatures:function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e]);return t},loadState:function(t){var e=this,i=t.featureCollection;L.geoJson(i,{onEachFeature:function(t,i){var n=t.properties,o=n.popupOpened;if(\"Rectangle\"===n.type)i=L.rectangle(i.getBounds());else if(\"Point\"===n.type){n=n.options;var s=n.icon;s&&(delete n.icon,s.iconUrl&&(n.icon=L.icon(s))),i=L.marker(i.getLatLng(),n)}i.setStyle&&n&&n.lineStyle&&i.setStyle(n.lineStyle),e.add(i,n),o&&i.openPopup()}})},saveState:function(){for(var t=L.featureGroup(),i=[],n=0,o=this.items.length;o>n;n++){var s=this.items[n];if(\"Point\"===s.options.type){var l=s.toGeoJSON();l.properties=L.GmxDrawing.utils.getNotDefaults(s.options,L.GmxDrawing.utils.defaultStyles.markerStyle),s._map?s._map.hasLayer(s.getPopup())&&(l.properties.popupOpened=!0):l.properties.map=!1;var a=L.GmxDrawing.utils.getNotDefaults(s._obj.options,L.GmxDrawing.utils.defaultStyles.markerStyle.options);Object.keys(a).length&&(l.properties.options=a),a=L.GmxDrawing.utils.getNotDefaults(s._obj.options.icon.options,L.GmxDrawing.utils.defaultStyles.markerStyle.options.icon),Object.keys(a).length&&(l.properties.options||(l.properties.options={}),l.properties.options.icon=a),i.push(l)}else t.addLayer(s)}var r=t.toGeoJSON();return r.features=r.features.concat(i),{version:e,featureCollection:r}},_addItem:function(t){for(var e=!0,i=0,n=this.items.length;n>i;i++){var o=this.items[i];if(o===t){e=!1;break}}e&&this.items.push(t),this.fire(\"add\",{mode:t.mode,object:t})},_removeItem:function(t,e){for(var i=0,n=this.items.length;n>i;i++){var o=this.items[i];if(o===t){if(e){this.items.splice(i,1);var s={type:o.options.type,mode:o.mode,object:o};this.fire(\"remove\",s),o.fire(\"remove\",s)}return o}}return null},clear:function(){for(var t=0,e=this.items.length;e>t;t++){var i=this.items[t];i&&i._map&&i._map.removeLayer(i);var n={type:i.options.type,mode:i.mode,object:i};this.fire(\"remove\",n),i.fire(\"remove\",n)}return this.items=[],this},remove:function(t){var e=this._removeItem(t,!0);return e&&e._map&&e._map.removeLayer(e),e}}),L.Map.addInitHook(function(){this.gmxDrawing=new L.GmxDrawing(this),L.Mixin.ContextMenu&&L.GmxDrawing.PointMarkers.include(L.Mixin.ContextMenu)})}(),L.GmxDrawing.Feature=L.LayerGroup.extend({options:{mode:\"\"},includes:L.Mixin.Events,simplify:function(){var t,e,i,n,o;for(t=0,i=this.rings.length;i>t;t++){var s=this.rings[t],l=s.ring;for(l.setLatLngs(l.points.getPathLatLngs()),e=0,n=s.holes.length;n>e;e++)o=s.holes[e],o.setLatLngs(o.points.getPathLatLngs())}return this},bringToFront:function(){return this.invoke(\"bringToFront\")},bringToBack:function(){return this.invoke(\"bringToBack\")},onAdd:function(t){if(L.LayerGroup.prototype.onAdd.call(this,t),this._parent._addItem(this),\"Point\"===this.options.type){t.addLayer(this._obj);var e=this;setTimeout(function(){e._fireEvent(\"drawstop\",e._obj.options)},0)}this._fireEvent(\"addtomap\")},onRemove:function(t){\"hideTooltip\"in this&&this.hideTooltip(),L.LayerGroup.prototype.onRemove.call(this,t),\"Point\"===this.options.type&&t.removeLayer(this._obj),this._fireEvent(\"removefrommap\")},remove:function(t){if(t){var e,i,n,o,s;for(e=0,n=this.rings.length;n>e;e++)if(t.options.hole){for(i=0,o=this.rings[e].holes.length;o>i;i++)if(s=this.rings[e].holes[i],t===s){this.rings[e].holes.splice(i,1),s._map&&s._map.removeLayer(s);break}if(!t._map)break}else if(t===this.rings[e].ring){for(i=0,o=this.rings[e].holes.length;o>i;i++)s=this.rings[e].holes[i],s._map&&s._map.removeLayer(s);this.rings.splice(e,1),t._map&&t._map.removeLayer(t);break}}else this.rings=[];return this.rings.length<1&&(this._originalStyle&&this._obj.setStyle(this._originalStyle),this._parent.remove(this)),this},_fireEvent:function(t){if(!(\"removefrommap\"===t&&this.rings.length>1)){var e={mode:this.mode||\"\",object:this};this.fire(t,e),this._parent.fire(t,e),\"drawstop\"===t&&this._map&&L.DomUtil.removeClass(this._map._mapPane,\"leaflet-clickable\")}},getStyle:function(){var t=L.extend({},this._drawOptions);return delete t.holeStyle,\"Point\"===t.type&&(L.extend(t,t.markerStyle.iconStyle),delete t.markerStyle),t},setOptions:function(t){return t.lineStyle&&this._setStyleOptions(t.lineStyle,\"lines\"),t.pointStyle&&this._setStyleOptions(t.pointStyle,\"points\"),\"editable\"in t&&(t.editable?this.enableEdit():this.disableEdit()),L.setOptions(this,t),this._fireEvent(\"optionschange\"),this},_setStyleOptions:function(t,e){for(var i=0,n=this.rings.length;n>i;i++){var o=this.rings[i].ring[e];o.setStyle(t),o.redraw();for(var s=0,l=this.rings[i].holes.length;l>s;s++)o=this.rings[i].holes[s][e],o.setStyle(t),o.redraw()}this._fireEvent(\"stylechange\")},_setLinesStyle:function(t){this._setStyleOptions(t,\"lines\")},_setPointsStyle:function(t){this._setStyleOptions(t,\"points\")},getOptions:function(){var t=this.options,e=L.extend({},t);e.lineStyle=t.lineStyle,e.pointStyle=t.pointStyle;var i=L.GmxDrawing.utils.getNotDefaults(e,L.GmxDrawing.utils.defaultStyles);if(Object.keys(i.lineStyle).length||delete i.lineStyle,Object.keys(i.pointStyle).length||delete i.pointStyle,this._map||(i.map=!1),\"Point\"===t.type){var n=L.GmxDrawing.utils.getNotDefaults(this._obj.options,L.GmxDrawing.utils.defaultStyles.markerStyle.options);Object.keys(n).length&&(i.options=n),n=L.GmxDrawing.utils.getNotDefaults(this._obj.options.icon.options,L.GmxDrawing.utils.defaultStyles.markerStyle.options.icon),Object.keys(n).length&&(i.options.icon=n)}return i},_latLngsToCoords:function(t,e){var i=L.GeoJSON.latLngsToCoords(t);if(e){var n=i[i.length-1];(n[0]!==i[0][0]||n[1]!==i[0][1])&&i.push(i[0])}return i},_latlngsAddShift:function(t,e){for(var i=[],n=0,o=t.length;o>n;n++)i.push(L.GmxDrawing.utils.getShiftLatlng(t[n],this._map,e));return i},getPixelOffset:function(){var t=this.shiftPixel;if(!t&&this._map){var e=256/L.gmxUtil.tileSizes[this._map._zoom];t=this.shiftPixel=new L.Point(Math.floor(e*this._dx),-Math.floor(e*this._dy))}return t||new L.Point(0,0)},setOffsetToGeometry:function(t,e){var i,n,o,s,l,a,r=256/L.gmxUtil.tileSizes[this._map._zoom],h=new L.Point(r*(this._dx||t||0),-r*(this._dy||e||0));for(i=0,n=this.rings.length;n>i;i++){var p=this.rings[i];if(l=p.ring,a=l.points.getLatLngs(),l.setLatLngs(this._latlngsAddShift(a,h)),p.holes&&p.holes.length)for(o=0,s=p.holes.length;s>o;o++)l=p.holes[o].ring,a=l.points.getLatLngs(),l.setLatLngs(this._latlngsAddShift(a,h))}return this.setPositionOffset(),this},setPositionOffset:function(t,e){if(this._dx=t||0,this._dy=e||0,this._map){this.shiftPixel=null;for(var i=this.getPixelOffset(),n=0,o=this.rings.length;o>n;n++){this.rings[n].ring.setPositionOffset(i);for(var s=0,l=this.rings[n].holes.length;l>s;s++)this.rings[n].holes[s].setPositionOffset(i)}}},_getCoords:function(t){for(var e=this.options.type,i=\"Polygon\"===e||\"Rectangle\"===e||\"MultiPolygon\"===e,n=t?null:this.shiftPixel,o=[],s=0,l=this.rings.length;l>s;s++){var a=this.rings[s],r=this._latLngsToCoords(a.ring.points.getLatLngs(),i,n);if(i&&(r=[r]),a.holes&&a.holes.length)for(var h=0,p=a.holes.length;p>h;h++)r.push(this._latLngsToCoords(a.holes[h].points.getLatLngs(),i,n));o.push(r)}return(\"Polyline\"===e||i&&\"MultiPolygon\"!==e)&&(o=o[0]),o},toGeoJSON:function(){return this._toGeoJSON(!0)},_toGeoJSON:function(t){var e,i=this.options.type,n=this.getOptions();if(delete n.mode,!this.options.editable||\"Point\"===i){var o=this._obj;o instanceof L.GeoJSON&&(o=L.GmxDrawing.utils._getLastObject(o).getLayers()[0]);var s=o.toGeoJSON();return s.properties=n,s}return this.rings&&(e=this._getCoords(t),\"Rectangle\"===i?i=\"Polygon\":\"Polyline\"===i?i=\"LineString\":\"MultiPolyline\"===i&&(i=\"MultiLineString\")),L.GeoJSON.getFeature({feature:{type:\"Feature\",properties:n}},{type:i,coordinates:e})},getType:function(){return this.options.type},hideFill:function(){this._fill._map&&this._map.removeLayer(this._fill)},showFill:function(){var t=this.toGeoJSON(),e=L.GeoJSON.geometryToLayer(t,null,null,{weight:0});return this._fill.clearLayers(),e instanceof L.LayerGroup?e.eachLayer(function(t){this._fill.addLayer(t)},this):(e.setStyle({weight:0,fill:!0,fillColor:\"#0033ff\"}),this._fill.addLayer(e)),this._fill._map||(this._map.addLayer(this._fill),this._fill.bringToBack()),this},getBounds:function(){var t=new L.LatLngBounds;if(\"Point\"===this.options.type){var e=this._obj.getLatLng();t.extend(e)}else t=this._getBounds();return t},_getBounds:function(t){var e,i=t||this,n=new L.LatLngBounds;return i instanceof L.LayerGroup?(i.eachLayer(function(t){e=this._getBounds(t),n.extend(e)},this),n):(e=i instanceof L.Marker?i.getLatLng():i.getBounds(),n.extend(e),n)},initialize:function(t,e,i){i=i||{},i.mode=\"\",this._drawOptions=L.extend({},i);var n=i.type;\"Point\"===n?(delete i.pointStyle,delete i.lineStyle):(delete i.iconUrl,delete i.iconAnchor,delete i.iconSize,delete i.popupAnchor,delete i.shadowSize,delete i.markerStyle),delete i.holeStyle,L.setOptions(this,i),this._layers={},this._obj=e,this._parent=t,this._dx=0,this._dy=0,this._initialize(t,e)},enableEdit:function(){this.options.mode=\"edit\";var t=this.options.type;if(\"Point\"!==t){for(var e=0,i=this.rings.length;i>e;e++){var n=this.rings[e];n.ring.options.editable=this.options.editable,n.ring.setEditMode();for(var o=0,s=n.holes.length;s>o;o++){var l=n.holes[o];l.options.editable=this.options.editable,l.setEditMode()}}var a=L.geoJson(this.toGeoJSON());this.options.editable=!0,this._initialize(this._parent,a)}return this},disableEdit:function(){var t=this.options.type;if(\"Point\"!==t){this._originalStyle=this.options.lineStyle;for(var e=L.geoJson(this.toGeoJSON().geometry,this._originalStyle).getLayers()[0],i=0,n=this.rings.length;n>i;i++){var o=this.rings[i];o.ring.removeEditMode(),o.ring.options.editable=!1;for(var s=0,l=o.holes.length;l>s;s++){var a=o.holes[s];a.removeEditMode(),a.options.editable=!1}}this._obj=e,this.options.editable=!1,this._initialize(this._parent,this._obj)}return this},getArea:function(){var t=0;return L.gmxUtil.geoJSONGetArea&&(t=L.gmxUtil.geoJSONGetArea(this.toGeoJSON())),t},getLength:function(){var t=0;return L.gmxUtil.geoJSONGetLength&&(t=L.gmxUtil.geoJSONGetLength(this.toGeoJSON())),t},getSummary:function(){var t=\"\",e=this._map.options||{},i=this.options.type;if(\"Polyline\"===i||\"MultiPolyline\"===i)t=L.gmxUtil.prettifyDistance(this.getLength(),e.distanceUnit);else if(\"Polygon\"===i||\"MultiPolygon\"===i||\"Rectangle\"===i)t=L.gmxUtil.prettifyArea(this.getArea(),e.squareUnit);else if(\"Point\"===i){var n=this._obj.getLatLng();t=L.gmxUtil.formatCoordinates(n)}return t},_initialize:function(t,e){if(this.clearLayers(),this.rings=[],this.mode=\"\",this._fill=L.featureGroup(),this.options.editable){for(var i=e.getLayers?L.GmxDrawing.utils._getLastObject(e).getLayers():[e],n=0,o=i.length;o>n;n++){var s=i[n],l=[],a=new L.GmxDrawing.Ring(this,s._latlngs,{ring:!0,editable:this.options.editable});if(this.addLayer(a),s._holes)for(var r=0,h=s._holes.length;h>r;r++){var p=new L.GmxDrawing.Ring(this,s._holes[r],{hole:!0,editable:this.options.editable});this.addLayer(p),l.push(p)}this.rings.push({ring:a,holes:l})}if(L.gmxUtil&&L.gmxUtil.prettifyDistance&&!this._showTooltip){var g=function(t){var e=L.gmxLocale?L.gmxLocale.getText(t):null;return e||t},d=this;this._showTooltip=function(t,e){var i=e.ring,n=e.originalEvent,o=n.buttons||n.button;if(i&&(i.downObject||!o)){var s=d._map.options||{},l=s.distanceUnit,a=s.squareUnit,r=\"\";if(\"Area\"===t){if(!L.gmxUtil.getArea)return;r=e.originalEvent.ctrlKey?g(\"Perimeter\")+\": \"+L.gmxUtil.prettifyDistance(d.getLength(),l):g(t)+\": \"+L.gmxUtil.prettifyArea(d.getArea(),a),d._parent.showTooltip(e.layerPoint,r)}else if(\"Length\"===t){var h=L.GmxDrawing.utils.getDownType.call(d,e,d._map,d),p=i.getLength(h),c=(\"edit\"===h.mode||h.num>1?h.type:\"\")+t,u=g(c);r=(u===c?g(t):u)+\": \"+L.gmxUtil.prettifyDistance(p,l),d._parent.showTooltip(e.layerPoint,r)}d._fireEvent(\"onMouseOver\")}},this.hideTooltip=function(){this._parent.hideTooltip(),this._fireEvent(\"onMouseOut\")}}}else\"Point\"===this.options.type?this._setMarker(e):this.addLayer(e)},_enableDrag:function(){this._parent._enableDrag()},_disableDrag:function(){this._parent._disableDrag()},_setMarker:function(t){var e=this,i=this._parent;t.bindPopup(null,{maxWidth:1e3,closeOnClick:i._map.options.maxPopupCount>1?!1:!0}).on(\"dblclick\",function(){this._map.removeLayer(this),e.remove()}).on(\"dragstart\",function(){e._fireEvent(\"dragstart\")}).on(\"drag\",function(){e._fireEvent(\"drag\"),e._fireEvent(\"edit\")}).on(\"dragend\",function(){e._fireEvent(\"dragend\")}).on(\"popupopen\",function(i){var n=i.popup;n._input||(n._input=L.DomUtil.create(\"textarea\",\"leaflet-gmx-popup-textarea\",n._contentNode),n._input.value=e.options.title||t.options.title||\"\",n._contentNode.style.width=\"auto\"),L.DomEvent.on(n._input,\"keyup\",function(){var i=this.value.split(\"\\n\"),o=this.cols||0;i.forEach(function(t){t.length>o&&(o=t.length)}),this.rows=i.length,o&&(this.cols=o),n.update(),e.options.title=t.options.title=this.value,this.focus()},n._input),n.update()}),i._map.addLayer(t),e.openPopup=t.openPopup=function(){if(t._popup&&t._map&&!t._map.hasLayer(t._popup)){t._popup.setLatLng(t._latlng);var e=t._map.gmxDrawing;e._drawMode?t._map.fire(e._createType?\"click\":\"mouseup\",{latlng:t._latlng,delta:1}):(t._popup.addTo(t._map),t._popup._isOpen=!0)}return t}},setAddMode:function(){return this.rings.length&&this.rings[0].ring.setAddMode(),this},_pointDown:function(t){this.rings.length&&this.rings[0].ring._pointDown(t)},getPopup:function(){return\"Point\"===this.options.type?this._obj.getPopup():void 0}}),L.GmxDrawing.Ring=L.LayerGroup.extend({options:{className:\"leaflet-drawing-ring\",opacity:1,shape:\"circle\",fill:!0,fillColor:\"#ffffff\",fillOpacity:1,size:L.Browser.mobile?40:8,weight:2},includes:L.Mixin.Events,initialize:function(t,e,i){i=i||{},i.mode=\"\",this._activeZIndex=i.activeZIndex||7,this._notActiveZIndex=i.notActiveZIndex||6,this.options=L.extend({},t.getStyle(),i),this._layers={},this._coords=e,this._legLength=[],this._parent=t,this._initialize(t,e)},_initialize:function(t,e){this.clearLayers(),delete this.lines,delete this.fill,delete this.points,this.downObject=!1,this.mode=\"\",this.lineType=-1!==this.options.type.indexOf(\"Polyline\");var i=this.options.pointStyle,n={opacity:1,weight:2,noClip:!0,clickable:!1,className:\"leaflet-drawing-lines\"};if(this.lineType||(n.fill=\"fill\"in this.options?this.options.fill:!0),this.options.lineStyle)for(var o in this.options.lineStyle)\"fill\"===o&&this.lineType||(n[o]=this.options.lineStyle[o]);this.options.hole&&(n=L.extend({},n,L.GmxDrawing.utils.defaultStyles.holeStyle),i=L.extend({},i,L.GmxDrawing.utils.defaultStyles.holeStyle));var s=e,l=this,a=this.options.mode||(s.length?\"edit\":\"add\");this.lines=new L.Polyline(s,n),this.addLayer(this.lines),this.fill=new L.Polyline(s,{className:\"leaflet-drawing-lines-fill\",opacity:0,fill:!1,size:10,weight:10}),this.addLayer(this.fill),this.lineType||\"edit\"!==a||(this.lines.addLatLng(s[0]),this.fill.addLatLng(s[0])),this.mode=a,this.points=new L.GmxDrawing.PointMarkers(s,i),this.points._parent=this,this.addLayer(this.points),this.points.on(\"mouseover mousemove\",function(t){t.ring=l,\"_showTooltip\"in this&&this._showTooltip(l.lineType?\"Length\":\"Area\",t)},t).on(\"mouseout\",function(){\"hideTooltip\"in this&&this.hideTooltip()},t),this.fill.on(\"mouseover mousemove\",function(t){t.ring=l,\"_showTooltip\"in this&&this._showTooltip(\"Length\",t)},t).on(\"mouseout\",function(){\"hideTooltip\"in this&&this.hideTooltip()},t)},onAdd:function(t){L.LayerGroup.prototype.onAdd.call(this,t),this.setEditMode()},onRemove:function(t){this.points&&(this._pointUp(),this.removeAddMode(),this.removeEditMode(),\"hideTooltip\"in this._parent&&this._parent.hideTooltip()),L.LayerGroup.prototype.onRemove.call(this,t),\"Point\"===this.options.type&&t.removeLayer(this._obj),this._fireEvent(\"removefrommap\")},getLength:function(t){var e=0,i=this.points._latlngs,n=i.length;if(n){var o=1,s=i[0];t&&(\"node\"===t.type?n=t.num+1:(o=t.num,o===n?(s=i[o-1],o=0):s=i[o-1],n=o+1));for(var l=o;n>l;l++){var a=this._legLength[l]||null;null===a&&(a=L.gmxUtil.distVincenty(s.lng,s.lat,i[l].lng,i[l].lat),this._legLength[l]=a),s=i[l],e+=a}}return e},_setPoint:function(t,e,i){if(this.points){var n=this.points._latlngs;\"Rectangle\"===this.options.type?(\"edge\"===i?(e--,0===e?n[0].lng=n[1].lng=t.lng:1===e?n[1].lat=n[2].lat=t.lat:2===e?n[2].lng=n[3].lng=t.lng:3===e&&(n[0].lat=n[3].lat=t.lat)):(n[e]=t,0===e?(n[3].lat=t.lat,n[1].lng=t.lng):1===e?(n[2].lat=t.lat,n[0].lng=t.lng):2===e?(n[1].lat=t.lat,n[3].lng=t.lng):3===e&&(n[0].lat=t.lat,n[2].lng=t.lng)),this._legLength=[]):(n[e]=t,this._legLength[e]=null,this._legLength[e+1]=null),this.setLatLngs(n)}},addLatLng:function(t,e){if(this._legLength=[],this.points){var i=this.points._latlngs,n=i.length,o=i[n-2];o&&o.equals(t)||(e&&(n-=e),this._setPoint(t,n,\"node\"))}else\"addLatLng\"in this._obj&&this._obj.addLatLng(t)},setPositionOffset:function(t){L.DomUtil.setPosition(this.points._container,t),L.DomUtil.setPosition(this.fill._container,t),L.DomUtil.setPosition(this.lines._container,t)},setLatLngs:function(t){if(this.points){var e=this.points;this.fill.setLatLngs(t),this.lines.setLatLngs(t),!this.lineType&&\"edit\"===this.mode&&t.length>2&&(this.lines.addLatLng(t[0]),this.fill.addLatLng(t[0])),e.setLatLngs(t)}else\"setLatLngs\"in this._obj&&this._obj.setLatLngs(t);this._fireEvent(\"edit\")},_pointDown:function(t){if((L.Browser.ie||L.gmxUtil&&L.gmxUtil.gtIE11)&&this._map.dragging._draggable._onUp(),this._parent._disableDrag(),t.originalEvent){var e=t.originalEvent;if(e.ctrlKey)return this._onDragStart(t),void 0;if(1!==e.which&&1!==e.button)return}var i=L.GmxDrawing.utils.getDownType.call(this,t,this._map,this._parent),n=i.type,o=this.options;if(this._lastDownTime=Date.now()+100,this.down=i,\"edge\"===n&&\"Rectangle\"!==o.type){if(o.disableAddPoints)return;this._legLength=[];var s=i.num,l=this.points._latlngs;l.splice(s,0,l[s]),this._setPoint(t.latlng,s,n)}this.downObject=!0,this._map.on(\"mousemove\",this._pointMove,this).on(\"mouseup\",this._pointUp,this)},_pointMove:function(t){this.down&&this._lastDownTime<Date.now()&&(this.lineType||this._parent.showFill(),this._clearLineAddPoint(),this._moved=!0,this._setPoint(t.latlng,this.down.num,this.down.type),\"_showTooltip\"in this._parent&&this._parent._showTooltip(this.lineType?\"Length\":\"Area\",t))},_pointUp:function(t){if(this.downObject=!1,this._parent._enableDrag(),this.points){if(this._map){this._map.off(\"mousemove\",this._pointMove,this).off(\"mouseup\",this._pointUp,this);var e=t&&t.originalEvent?t.originalEvent.target:null;if(e&&e._leaflet_pos&&/leaflet-marker-icon/.test(e.className)){var i=L.GmxDrawing.utils.getMarkerByPos(e._leaflet_pos,this._map.gmxDrawing.getFeatures());this._setPoint(i,this.down.num,this.down.type)}this._map._skipClick=!0}this._drawstop&&this._fireEvent(\"drawstop\"),this._drawstop=!1,this.down=null;var n=this.options.lineStyle||{};n.fill||this.lineType||this._parent.hideFill()}},_lastPointClickTime:0,_removePoint:function(t){var e=this.points._latlngs;e.length>t&&(this._legLength=[],e.splice(t,1),\"Rectangle\"===this.options.type||e.length<2||e.length<3&&!this.lineType?this._parent.remove(this):this._setPoint(e[0],0))},_clearLineAddPoint:function(){this._lineAddPointID&&clearTimeout(this._lineAddPointID),this._lineAddPointID=null},_pointDblClick:function(t){if(this._clearLineAddPoint(),!this._lastAddTime||Date.now()>this._lastAddTime){var e=L.GmxDrawing.utils.getDownType.call(this,t,this._map,this._parent);this._removePoint(e.num)}},_pointClick:function(t){if(!t.originalEvent||!t.originalEvent.ctrlKey){var e=Date.now(),i=this._lastPointClickTime;if(this._lastPointClickTime=e+300,this._moved||i>e)return this._moved=!1,void 0;var n=L.GmxDrawing.utils.getDownType.call(this,t,this._map,this._parent),o=this.mode;if(\"node\"===n.type){var s=n.num;if(n.end){if(\"add\"===o)this._pointUp(),this.setEditMode(),this.lineType&&0===s&&(this._parent.options.type=this.options.type=\"Polygon\",this.lineType=!1,this._removePoint(this.points._latlngs.length-1)),this._fireEvent(\"drawstop\"),this._removePoint(s);else if(this.lineType){var l=this,a=function(){l._clearLineAddPoint(),0===s&&l.points._latlngs.reverse(),l.points.addLatLng(n.latlng),l.setAddMode(),l._fireEvent(\"drawstop\")};this._lineAddPointID=setTimeout(a,250)}}else\"add\"===o&&this.addLatLng(t.latlng)}}},_onDragEnd:function(){this._map.off(\"mouseup\",this._onDragEnd,this).off(\"mousemove\",this._onDrag,this),this._parent._enableDrag(),this._fireEvent(\"dragend\")},_onDragStart:function(t){this._dragstartPoint=t.latlng,this._map.on(\"mouseup\",this._onDragEnd,this).on(\"mousemove\",this._onDrag,this),this._fireEvent(\"dragstart\")},_onDrag:function(t){var e=this._dragstartPoint.lat-t.latlng.lat,i=this._dragstartPoint.lng-t.latlng.lng,n=this.points._latlngs;n.forEach(function(t){t.lat-=e,t.lng-=i}),this._dragstartPoint=t.latlng,this._legLength=[],this.setLatLngs(n),this._fireEvent(\"drag\")},_fireEvent:function(t){this._parent._fireEvent(t)},_startTouchMove:function(t,e){var i=L.GmxDrawing.utils.getDownType.call(this,t,this._map,this._parent);if(\"node\"===i.type){this._parent._disableDrag(),this.down=i;var n=this,o=function(t){i=L.GmxDrawing.utils.getDownType.call(n,t,n._map,this._parent),1===t.touches.length&&n._pointMove(i)},s=function(){L.DomEvent.off(n._map._container,\"touchmove\",o,n).off(n._map._container,\"touchend\",s,n),n._parent._enableDrag(),e&&n._parent.fire(\"drawstop\",{mode:n.options.type,object:n})};L.DomEvent.on(n._map._container,\"touchmove\",o,n).on(n._map._container,\"touchend\",s,n)}},_editHandlers:function(t){var e=L.DomEvent.stopPropagation;if(this.touchstart&&L.DomEvent.off(this.points._container,\"touchstart\",this.touchstart,this),this.touchstartFill&&L.DomEvent.off(this.fill._container,\"touchstart\",this.touchstartFill,this),this.touchstart=null,this.touchstartFill=null,t)if(this.points.on(\"dblclick click\",e,this).on(\"dblclick\",this._pointDblClick,this).on(\"click\",this._pointClick,this),L.Browser.mobile){this._EditOpacity&&this._parent._setPointsStyle({fillOpacity:this._EditOpacity});var i=this;this.touchstart=function(t){i._startTouchMove(t)},L.DomEvent.on(this.points._container,\"touchstart\",this.touchstart,this),this.touchstartFill=function(t){var e=L.GmxDrawing.utils.getDownType.call(i,t,i._map,this._parent);if(\"edge\"===e.type&&\"Rectangle\"!==i.options.type){var n=i.points._latlngs;n.splice(e.num,0,n[e.num]),i._legLength=[],i._setPoint(e.latlng,e.num,e.type)}},L.DomEvent.on(this.fill._container,\"touchstart\",this.touchstartFill,this)}else this.points.on(\"mousemove\",e).on(\"mousedown\",this._pointDown,this),this.fill.on(\"dblclick click\",e,this).on(\"mousedown\",this._pointDown,this),this._fireEvent(\"editmode\");else this._pointUp(),this.points.off(\"dblclick click\",e,this).off(\"dblclick\",this._pointDblClick,this).off(\"click\",this._pointClick,this),L.Browser.mobile||(this.points.off(\"mousemove\",e).off(\"mousedown\",this._pointDown,this),this.fill.off(\"dblclick click\",e,this).off(\"mousedown\",this._pointDown,this))},_createHandlers:function(t){if(this.points){var e=L.DomEvent.stopPropagation;if(t)this._parent._enableDrag(),this._map.on(\"dblclick\",e).on(\"mousedown\",this._mouseDown,this).on(\"mouseup\",this._mouseUp,this).on(\"mousemove\",this._moseMove,this),this.points.on(\"click\",this._pointClick,this),this._fireEvent(\"addmode\"),this.lineType||this.lines.setStyle({fill:!0});else{this._map&&(this._map.off(\"dblclick\",e).off(\"mouseup\",this._mouseUp,this).off(\"mousemove\",this._moseMove,this),this.points.off(\"click\",this._pointClick,this));var i=this.options.lineStyle||{};this.lineType||i.fill||this.lines.setStyle({fill:!1})}}},setEditMode:function(){return this.options.editable&&(this._editHandlers(!1),this._createHandlers(!1),this._editHandlers(!0),this.mode=\"edit\"),this},setAddMode:function(){return this.options.editable&&(this._editHandlers(!1),this._createHandlers(!1),this._createHandlers(!0),this.mode=\"add\"),this},removeAddMode:function(){this._createHandlers(!1),this.mode=\"\"},removeEditMode:function(){this._editHandlers(!1),this.mode=\"\"},_moseMove:function(t){if(this.points){var e=this.points._latlngs;1===e.length&&this._setPoint(t.latlng,1),this._setPoint(t.latlng,e.length-1)}},_mouseDown:function(){this._lastMouseDownTime=Date.now()+200},_mouseUp:function(t){var e=Date.now();if(t.delta||e<this._lastMouseDownTime){this._lastAddTime=e+1e3;var i=t._latlng||t.latlng;t.delta&&this.addLatLng(i,t.delta),this.addLatLng(i),this._parent._parent._clearCreate()}}}),L.GmxDrawing.PointMarkers=L.Polygon.extend({options:{className:\"leaflet-drawing-points\",smoothFactor:0,opacity:1,shape:\"circle\",fill:!0,fillColor:\"#ffffff\",fillOpacity:1,size:L.Browser.mobile?40:8,weight:2},getPathLatLngs:function(){for(var t,e,i=[],n=this.options.size,o=this._parts[0],s=0,l=o.length;l>s;s++)e=o[s],(0===s||Math.abs(t.x-e.x)>n||Math.abs(t.y-e.y)>n)&&(i.push(this._latlngs[s]),t=e);return i},_getPathPartStr:function(t){for(var e,i,n=L.Path.VML,o=this.options.size/2,s=\"add\"!==this._parent.mode||L.Browser.mobile?0:1,l=\"circle\"===this.options.shape?!0:!1,a=0,r=t.length-s,h=\"\";r>a;a++)if(i=t[a],n&&i._round(),0===a||Math.abs(e.x-i.x)>this.options.size||Math.abs(e.y-i.y)>this.options.size){if(l)h+=\"M\"+i.x+\",\"+(i.y-o)+\" A\"+o+\",\"+o+\",0,1,1,\"+(i.x-.1)+\",\"+(i.y-o)+\" \";else{var p=i.x,g=p-o,d=p+o,c=i.y,u=c-o,f=c+o;h+=\"M\"+g+\" \"+u+\"L\"+d+\" \"+u+\"L\"+d+\" \"+f+\"L\"+g+\" \"+f+\"L\"+g+\" \"+u}e=i}return h},_onMouseClick:function(t){this._fireMouseEvent(t)},_isPathChange:function(){this.projectLatlngs();var t=this.getPathString();return t!==this._pathStr?(this._pathStr=t,!0):!1},_updatePath:function(){this._map&&(this._clipPoints(),this._isPathChange()&&(\"inherit\"!==this._path.getAttribute(\"fill-rule\")&&this._path.setAttribute(\"fill-rule\",\"inherit\"),this._path.setAttribute(\"d\",this._pathStr||\"M0 0\")))}}),L.GmxDrawing.utils={defaultStyles:{mode:\"\",map:!0,editable:!0,holeStyle:{opacity:.5,color:\"#003311\"},lineStyle:{opacity:1,weight:2,noClip:!0,clickable:!1,className:\"leaflet-drawing-lines\",color:\"#0033ff\",dashArray:null,lineCap:null,lineJoin:null,fill:!1,fillColor:null,fillOpacity:.2,smoothFactor:1,stroke:!0},pointStyle:{className:\"leaflet-drawing-points\",noClip:!0,smoothFactor:0,opacity:1,shape:\"circle\",fill:!0,fillColor:\"#ffffff\",fillOpacity:1,size:L.Browser.mobile?40:8,weight:2,clickable:!0,color:\"#0033ff\",dashArray:null,lineCap:null,lineJoin:null,stroke:!0},markerStyle:{mode:\"\",editable:!1,title:\"Text example\",options:{alt:\"\",clickable:!0,draggable:!1,keyboard:!0,opacity:1,zIndexOffset:0,riseOffset:250,riseOnHover:!1,icon:{className:\"\",iconUrl:\"\",iconAnchor:[12,41],iconSize:[25,41],popupAnchor:[1,-34],shadowSize:[41,41]}}}},getNotDefaults:function(t,e){var i={};\r\nfor(var n in t)if(\"icon\"!==n&&\"map\"!==n)if(\"iconAnchor\"===n||\"iconSize\"===n||\"popupAnchor\"===n||\"shadowSize\"===n){if(!e[n])continue;(e[n][0]!==t[n][0]||e[n][1]!==t[n][1])&&(i[n]=t[n])}else\"lineStyle\"===n||\"pointStyle\"===n||\"markerStyle\"===n?i[n]=this.getNotDefaults(t[n],e[n]):e&&e[n]===t[n]&&\"fill\"!==n||(i[n]=t[n]);return i},getShiftLatlng:function(t,e,i){if(i&&e){var n=e.latLngToLayerPoint(t)._add(i);t=e.layerPointToLatLng(n)}return t},getDownType:function(t,e,i){var n=t.layerPoint,o=!1,s=t.latlng;if(t.originalEvent&&t.originalEvent.ctrlKey&&(o=!0),t.touches&&1===t.touches.length){var l=t.touches[0],a=e.mouseEventToContainerPoint(l);n=e.containerPointToLayerPoint(a),s=e.layerPointToLatLng(n)}var r={type:\"\",latlng:s,ctrlKey:o},h=this.points?this:t.ring,p=h.points._originalPoints||[],g=p.length;if(0===g)return r;var d=(h.points.options.size||10)/2;d+=1+(h.points.options.weight||2);var c=new L.Bounds(L.point(n.x-d,n.y-d),L.point(n.x+d,n.y+d)),u=p[g-1],f=g-(\"add\"===h.mode?2:1);r={mode:h.mode,layerPoint:t.layerPoint,ctrlKey:o,latlng:s};for(var _=0;g>_;_++){var m=p[_];if(i.shiftPixel&&(m=p[_].add(i.shiftPixel)),c.contains(m)){r.type=\"node\",r.num=_,r.end=0===_||_===f?!0:!1;break}var y=L.LineUtil.pointToSegmentDistance(n,u,m);d>y&&(r.type=\"edge\",r.num=0===_?g:_),u=m}return r},_getLastObject:function(t){if(t.getLayers){var e=t.getLayers().shift();return e.getLayers?this._getLastObject(e):t}return t},getMarkerByPos:function(t,e){for(var i=0,n=e.length;n>i;i++){var o=e[i],s=o._obj?o._obj:null,l=s&&s._icon?s._icon._leaflet_pos:null;if(l&&l.x===t.x&&l.y===t.y)return s._latlng}return null}};\n\n\n// WEBPACK FOOTER //\n// ./E:/projects/Leaflet.ExtSearch/external/gmxDrawing/dist/gmxDrawing-min.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./external/gmxDrawing/dist/css/gmxDrawing.css\n// module id = 8\n// module chunks = 0","\r\nclass OsmDataProvider {\r\n    constructor({serverBase, limit, onFetch}){\r\n        this._serverBase = serverBase;\r\n        this._onFetch = onFetch;        \r\n        this.showSuggestion = true;\r\n        this.showOnMap = false;\r\n        this.showOnSelect = true;\r\n        this.find = this.find.bind(this);\r\n        this.fetch = this.fetch.bind(this);\r\n        this._convertGeometry = this._convertGeometry.bind(this);\r\n\r\n        this._key = window.KOSMOSNIMKI_SESSION_KEY == null || window.KOSMOSNIMKI_SESSION_KEY == 'INVALID' ? '' : `&key=${window.KOSMOSNIMKI_SESSION_KEY}`;\r\n    }\r\n    _convertGeometry(geometry) {        \r\n        switch (geometry.type.toUpperCase()) {\r\n            case 'POINT':\r\n                geometry.type = 'Point';\r\n                break;\r\n            case 'POLYGON':\r\n                geometry.type = 'Polygon';\r\n                break;\r\n            case 'MULTIPOLYGON':\r\n                geometry.type = 'MultiPolygon';\r\n                break;\r\n            case 'LINESTRING':\r\n            case 'POLYLINE':\r\n                geometry.type = 'LineString';\r\n                break;\r\n            case 'MULTILINESTRING':\r\n                geometry.type = 'MultiLineString';\r\n                break;\r\n            default:\r\n                throw 'Unknown WKT type';\r\n        }\r\n        return geometry;\r\n    }\r\n    fetch (obj) {\r\n        const query = `RequestType=ID&ID=${obj.ObjCode}&TypeCode=${obj.TypeCode}&UseOSM=1`;        \r\n        let req = new Request(`${this._serverBase}/SearchObject/SearchAddress.ashx?${query}${this._key}`);\r\n        let headers = new Headers();\r\n        headers.append('Content-Type','application/json');\r\n        let init = {\r\n            method: 'GET',            \r\n            mode: 'cors',\r\n            cache: 'default',\r\n        };\r\n        return new Promise((resolve, reject) => {\r\n            fetch (req, init)\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(text => {\r\n                const json = JSON.parse (text.slice(1, text.length - 1));\r\n                if(json.Status === 'ok'){\r\n                    const rs = json.Result\r\n                    .reduce((a,x) => a.concat(x.SearchResult), [])\r\n                    .map(x => {\r\n                        let g = this._convertGeometry (x.Geometry);\r\n                        let props = Object.keys(x)\r\n                        .filter(k => k !== 'Geometry')\r\n                        .reduce((a,k) => {\r\n                            a[k] = x[k];\r\n                            return a;\r\n                        }, {});\r\n                        return {\r\n                            feature: {\r\n                                type: 'Feature',\r\n                                geometry: g,\r\n                                properties: props,                            \r\n                            },\r\n                            provider: this,\r\n                            query: obj,\r\n                        };\r\n                    });\r\n                    if (typeof this._onFetch === 'function'){\r\n                        this._onFetch(rs);\r\n                    }                \r\n                    resolve(rs);\r\n                }\r\n                else {\r\n                    reject(json);\r\n                }                \r\n            });\r\n        });\r\n    }\r\n    find(value, limit, strong, retrieveGeometry){\r\n        const _strong = Boolean(strong) ? 1 : 0;\r\n        const _withoutGeometry = Boolean(retrieveGeometry) ? 0 : 1; \r\n        const query = `RequestType=SearchObject&IsStrongSearch=${_strong}&WithoutGeometry=${_withoutGeometry}&UseOSM=1&Limit=${limit}&SearchString=${encodeURIComponent(value)}`;        \r\n        let req = new Request(`${this._serverBase}/SearchObject/SearchAddress.ashx?${query}${this._key}`);\r\n        let headers = new Headers();\r\n        headers.append('Content-Type','application/json');\r\n        let init = {\r\n            method: 'GET',\r\n            mode: 'cors',\r\n            cache: 'default',\r\n        };\r\n        return new Promise((resolve, reject) => {\r\n            fetch (req, init)\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(text => {\r\n                const json = JSON.parse (text.slice(1, text.length - 1));\r\n                if(json.Status === 'ok'){                    \r\n                    const rs = json.Result\r\n                    .reduce((a,x) => a.concat(x.SearchResult), [])\r\n                    .map(x => {\r\n                        if (retrieveGeometry) {\r\n                            let g = this._convertGeometry (x.Geometry);\r\n                            let props = Object.keys(x)\r\n                            .filter(k => k !== 'Geometry')\r\n                            .reduce((a,k) => {\r\n                                a[k] = x[k];\r\n                                return a;\r\n                            }, {});\r\n                            return {\r\n                                feature: {\r\n                                    type: 'Feature',\r\n                                    geometry: g,\r\n                                    properties: props,                            \r\n                                },\r\n                                provider: this,\r\n                                query: value,\r\n                            };\r\n                        }\r\n                        else {\r\n                            return {\r\n                                name: x.ObjNameShort,\r\n                                properties: x,\r\n                                provider: this,\r\n                                query: value,\r\n                            };\r\n                        }                        \r\n                    });\r\n                    resolve(rs);                    \r\n                }\r\n                else {\r\n                    reject(json);\r\n                }                \r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nwindow.nsGmx = window.nsGmx || {};\r\nwindow.nsGmx.OsmDataProvider = OsmDataProvider;\r\n\r\nexport { OsmDataProvider };\n\n\n// WEBPACK FOOTER //\n// ./E:/projects/Leaflet.ExtSearch/src/OsmDataProvider.js","\r\nclass CoordinatesDataProvider {\r\n    constructor({onFetch}){\r\n        this._onFetch = onFetch;\r\n        this.showSuggestion = false;\r\n        this.showOnMap = true;\r\n        this.showOnSelect = false;\r\n        this.fetch = this.fetch.bind(this);\r\n        this.find = this.find.bind(this);\r\n        this.rxLat = new RegExp('(\\\\d+\\\\.?\\\\d+)\\\\s*(N|S)');\r\n        this.rxLng = new RegExp('(\\\\d+\\\\.?\\\\d+)\\\\s*(E|W)');\r\n    }\r\n    _parseCoordinates(value) {\r\n        let coords = value.split(/(,|\\\\s+)/)\r\n        .reduce((a,x) => {\r\n            const lat = this.rxLat.exec(x);\r\n            if(lat && lat.length) {\r\n                a.lat = parseFloat(lat[1]);\r\n                if (lat[2] == 'S'){\r\n                    a.lat = -a.lat;\r\n                }\r\n            }\r\n            const lng = this.rxLng.exec(x);\r\n            if(lng && lng.length) {\r\n                a.lng = parseFloat(lng[1]);\r\n                if (lng[2] == 'W'){\r\n                    a.lng = -a.lng;\r\n                }\r\n            }\r\n            return a;\r\n        },{});\r\n        if (coords.hasOwnProperty('lat') && coords.hasOwnProperty('lng')){\r\n            return {type: 'Point', coordinates: [coords.lng, coords.lat]};\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    fetch (value){\r\n        let g = this._parseCoordinates(value);        \r\n        return new Promise(resolve => {\r\n            let result = {feature: { type: 'Feature', geometry: g, properties: {} }, provider: this, query: value};\r\n            if (typeof this._onFetch === 'function'){\r\n                this._onFetch(result);\r\n            }             \r\n            resolve(g ? [result] : []);\r\n        });\r\n    }\r\n    find(value, limit, strong, retrieveGeometry){\r\n        return new Promise(resolve => resolve([]));\r\n    }\r\n}\r\n\r\nwindow.nsGmx = window.nsGmx || {};\r\nwindow.nsGmx.CoordinatesDataProvider = CoordinatesDataProvider;\r\n\r\nexport { CoordinatesDataProvider };\n\n\n// WEBPACK FOOTER //\n// ./E:/projects/Leaflet.ExtSearch/src/CoordinatesDataProvider.js","class CadastreDataProvider {\r\n    constructor({serverBase, limit, tolerance, onFetch}){\r\n        this._serverBase = serverBase;        \r\n        this._tolerance = tolerance;\r\n        this._onFetch = onFetch;\r\n        this.showSuggestion = true;\r\n        this.showOnMap = false;\r\n        this.showOnSelect = false;\r\n        this._cadastreLayers = [\r\n\t\t\t{id: 5, title: 'ОКС', \t\treg: /^\\d\\d:\\d+:\\d+:\\d+:\\d+$/},\r\n\t\t\t{id: 1, title: 'Участок', \treg: /^\\d\\d:\\d+:\\d+:\\d+$/},\r\n\t\t\t{id: 2, title: 'Квартал',\treg: /^\\d\\d:\\d+:\\d+$/},\r\n\t\t\t{id: 3, title: 'Район', \treg: /^\\d\\d:\\d+$/},\r\n\t\t\t{id: 4, title: 'Округ', \treg: /^\\d\\d$/},\r\n\t\t\t{id: 10, title: 'ЗОУИТ', \treg: /^\\d+\\.\\d+\\.\\d+/}\r\n\t\t\t// ,\r\n\t\t\t// {id: 7, title: 'Границы', \treg: /^\\w+$/},\r\n\t\t\t// {id: 6, title: 'Тер.зоны', \treg: /^\\w+$/},\r\n\t\t\t// {id: 12, title: 'Лес', \t\treg: /^\\w+$/},\r\n\t\t\t// {id: 13, title: 'Красные линии', \t\treg: /^\\w+$/},\r\n\t\t\t// {id: 15, title: 'СРЗУ', \treg: /^\\w+$/},\r\n\t\t\t// {id: 16, title: 'ОЭЗ', \t\treg: /^\\w+$/},\r\n\t\t\t// {id: 9, title: 'ГОК', \t\treg: /^\\w+$/},\r\n\t\t\t// {id: 10, title: 'ЗОУИТ', \treg: /^\\w+$/}\r\n\t\t\t// /[^\\d\\:]/g,\r\n\t\t\t// /\\d\\d:\\d+$/,\r\n\t\t\t// /\\d\\d:\\d+:\\d+$/,\r\n\t\t\t// /\\d\\d:\\d+:\\d+:\\d+$/\r\n\t\t];\r\n    }    \r\n    getCadastreLayer (str, type) {\r\n        str = str.trim();\r\n        for (var i = 0, len = this._cadastreLayers.length; i < len; i++) {\r\n            var it = this._cadastreLayers[i];\r\n            if (it.id === type) { return it; }\r\n            if (it.reg.exec(str)) { return it; }\r\n        }\r\n        return null;\r\n    }\r\n    find(value, limit, strong, retrieveGeometry){       \r\n        return new Promise(resolve => {\r\n            let req = new Request(`${this._serverBase}/typeahead?limit=${limit}&skip=0&text=${value}`);\r\n            let headers = new Headers();\r\n            headers.append('Content-Type','application/json');\r\n            let init = {\r\n                method: 'GET',            \r\n                mode: 'cors',\r\n                cache: 'default',\r\n            };\r\n            fetch (req, init)\r\n            .then(response => response.text())\r\n            .then(response => {\r\n                const json = JSON.parse (response); \r\n                if(json.status === 200){\r\n                    let rs = json.results.map(x => {\r\n                        return {\r\n                            name: x.title,\r\n                            properties: x,\r\n                            provider: this,\r\n                            query: value,\r\n                        };\r\n                    });\r\n                    resolve(rs);\r\n                }\r\n                else {\r\n                    resolve(json);\r\n                }                                       \r\n                                    \r\n            });\r\n        });\r\n    }\r\n    fetch(obj) {        \r\n        const cadastreLayer = this.getCadastreLayer(obj.value);\r\n        return new Promise(resolve => {\r\n            if(cadastreLayer) {\r\n                let req = new Request(`${this._serverBase}/features/${cadastreLayer.id}?tolerance=${this._tolerance}&limit=1&text=${obj.value}`);\r\n                let headers = new Headers();\r\n                headers.append('Content-Type','application/json');\r\n                let init = {\r\n                    method: 'GET',            \r\n                    mode: 'cors',\r\n                    cache: 'default',\r\n                };\r\n                fetch (req, init)\r\n                .then(response => response.text())\r\n                .then(response => {\r\n                    const json = JSON.parse (response);\r\n                    if(json.status === 200){\r\n                        if (typeof this._onFetch === 'function'){\r\n                            this._onFetch(json);\r\n                        }\r\n                        let rs = json.features.map(x => {\r\n                            return {\r\n                                name: x.attrs.name,\r\n                                properties: x,\r\n                                provider: this,\r\n                                query: obj,\r\n                            };\r\n                            \r\n                        });\r\n                        resolve(rs);\r\n\r\n                    }\r\n                    else {\r\n                        resolve(json);\r\n                    }\r\n                    \r\n                    \r\n                });\r\n            }\r\n            else {\r\n                resolve([]);\r\n            }            \r\n        });\r\n    }\r\n}\r\n\r\nwindow.nsGmx = window.nsGmx || {};\r\nwindow.nsGmx.CadastreDataProvider = CadastreDataProvider;\r\n\r\nexport { CadastreDataProvider };\n\n\n// WEBPACK FOOTER //\n// ./E:/projects/Leaflet.ExtSearch/src/CadastreDataProvider.js"],"sourceRoot":""}